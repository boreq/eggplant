(function(t){function e(e){for(var n,s,o=e[0],c=e[1],u=e[2],d=0,b=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&b.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(b.length)b.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"00a8":function(t,e,a){"use strict";a("7bee")},"027e":function(t,e,a){},"0461":function(t,e,a){},"0499":function(t,e,a){"use strict";a("eee0")},"15f8":function(t,e,a){"use strict";a("cf8f")},"18c9":function(t,e,a){},"18d6":function(t,e,a){"use strict";a("68c9")},"1d00":function(t,e,a){},"1d808":function(t,e,a){"use strict";a("487c")},"1f42":function(t,e,a){"use strict";a("e7df")},2099:function(t,e,a){"use strict";a("c33d")},2206:function(t,e,a){"use strict";a("bbb6")},2240:function(t,e,a){},2559:function(t,e,a){},"25db":function(t,e,a){},2885:function(t,e,a){"use strict";a("f567")},"2cd4":function(t,e,a){"use strict";a("c6e9")},"2e48":function(t,e,a){"use strict";a("d25b")},"35d1":function(t,e,a){"use strict";a("2559")},"3e4c":function(t,e,a){"use strict";a("0461")},"487b":function(t,e,a){"use strict";a("5e2e9")},"487c":function(t,e,a){},4890:function(t,e,a){"use strict";a("ec2d")},"518d":function(t,e,a){},"5e2e9":function(t,e,a){},6626:function(t,e,a){"use strict";a("25db")},"68b4":function(t,e,a){"use strict";a("9605")},"68c9":function(t,e,a){},7181:function(t,e,a){},7445:function(t,e,a){"use strict";a("b045")},"7bee":function(t,e,a){},"7cf3":function(t,e,a){"use strict";a("e7d8")},"7fbd":function(t,e,a){"use strict";a("027e")},"825f":function(t,e,a){"use strict";a("fb32")},"8d14":function(t,e,a){},9491:function(t,e,a){"use strict";a("2240")},9605:function(t,e,a){},9844:function(t,e,a){},"9bcb":function(t,e,a){},"9d14":function(t,e,a){"use strict";a("eaaa")},a272:function(t,e,a){"use strict";a("aea5")},a412:function(t,e,a){},aacf:function(t,e,a){"use strict";a("8d14")},aea5:function(t,e,a){},b045:function(t,e,a){},b5ae:function(t,e,a){"use strict";a("a412")},b6e4:function(t,e,a){"use strict";a("9bcb")},bbb6:function(t,e,a){},c23f:function(t,e,a){"use strict";a("d3ee")},c33d:function(t,e,a){},c6e9:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,i=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{csd:t.isCsd},attrs:{id:"app"}},[a("div",{staticClass:"content"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"container"},[a("router-view")],1)])]),a("transition",{attrs:{name:"fade"}},[t.showNowPlaying?a("div",{staticClass:"now-playing"},[a("now-playing")],1):t._e()]),a("div",{staticClass:"controls"},[a("controls",{attrs:{playbackData:t.playbackData}})],1),a("player",{on:{"playback-data":function(e){return t.onPlaybackData(e)}}}),a("notifications",{staticClass:"notifications"}),a("conversion-status",{staticClass:"conversion-status"}),a("media-session")],1)},s=[],o=a("d4ec"),c=a("bee2"),u=a("257e"),l=a("262e"),d=a("2caf"),b=a("ade3"),h=(a("99af"),a("9ab4")),v=a("60a3"),f=(a("d3b7"),a("ddb0"),a("a434"),a("2f62")),p=a("bfa9");i["a"].use(f["a"]);var m,y=new p["a"]({storage:window.localStorage,reducer:function(t){return{volume:t.volume,muted:t.muted,shuffle:t.shuffle}}});(function(t){t["Replace"]="replace",t["Append"]="append",t["Remove"]="remove",t["Play"]="play",t["Pause"]="pause",t["Previous"]="previous",t["Next"]="next",t["SetVolume"]="setVolume",t["Mute"]="mute",t["Unmute"]="unmute",t["Shuffle"]="shuffle",t["NoShuffle"]="noShuffle",t["SetUser"]="setUser"})(m||(m={}));var g=new f["a"].Store({state:{entries:[],playingIndex:null,paused:!0,volume:.5,muted:!1,shuffle:!1,user:void 0},mutations:(n={},Object(b["a"])(n,m.Replace,(function(t,e){t.entries=e.entries,e.playingIndex<0?t.playingIndex=0:e.playingIndex>e.entries.length-1?t.playingIndex=e.entries.length-1:t.playingIndex=e.playingIndex})),Object(b["a"])(n,m.Append,(function(t,e){t.entries=t.entries.concat(e.entries),void 0!==t.playingIndex&&null!==t.playingIndex||(t.playingIndex=0)})),Object(b["a"])(n,m.Remove,(function(t,e){var a=t.entries.indexOf(e.entry);a>=0&&(t.entries.splice(a,1),t.playingIndex>a&&(t.playingIndex-=1)),t.entries.length>0?t.playingIndex>t.entries.length-1&&(t.playingIndex=t.entries.length-1):t.playingIndex=void 0})),Object(b["a"])(n,m.Play,(function(t){j(t.entries)||(t.paused=!1)})),Object(b["a"])(n,m.Pause,(function(t){t.paused=!0})),Object(b["a"])(n,m.Previous,(function(t){if(!j(t.entries))if(t.shuffle&&t.entries.length>1){var e=t.playingIndex;while(t.playingIndex===e)t.playingIndex=k(0,t.entries.length)}else t.playingIndex-=1,t.playingIndex<0&&(t.playingIndex=t.entries.length-1)})),Object(b["a"])(n,m.Next,(function(t){if(!j(t.entries))if(t.shuffle&&t.entries.length>1){var e=t.playingIndex;while(t.playingIndex===e)t.playingIndex=k(0,t.entries.length)}else t.playingIndex+=1,t.playingIndex>t.entries.length-1&&(t.playingIndex=0)})),Object(b["a"])(n,m.SetVolume,(function(t,e){t.volume=e.volume,t.volume<0&&(t.volume=0),t.volume>1&&(t.volume=1),t.muted=0===t.volume})),Object(b["a"])(n,m.Mute,(function(t){t.muted=!0})),Object(b["a"])(n,m.Unmute,(function(t){t.muted=!1})),Object(b["a"])(n,m.Shuffle,(function(t){t.shuffle=!0})),Object(b["a"])(n,m.NoShuffle,(function(t){t.shuffle=!1})),Object(b["a"])(n,m.SetUser,(function(t,e){t.user=e})),n),getters:{nowPlaying:function(t){return O(t)},nowPlayingPaused:function(t){return t.paused||!O(t)},volume:function(t){return t.muted?0:t.volume}},plugins:[y.plugin]});function O(t){return j(t.entries)?null:t.entries[t.playingIndex]}function j(t){return!t||0===t.length}function k(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}a("a15b");var w,C,_,P=a("bc3a"),x=a.n(P),S=a("a78e"),$=a.n(S),T="auth-token",I=function(){function t(){Object(o["a"])(this,t)}return Object(c["a"])(t,[{key:"storeToken",value:function(t){$.a.set(T,t)}},{key:"clearToken",value:function(){$.a.remove(T)}},{key:"getToken",value:function(){return $.a.get(T)}}]),t}(),A="Access-Token",E=function(){function t(e){var a=this;Object(o["a"])(this,t),Object(b["a"])(this,"vue",void 0),Object(b["a"])(this,"axios",x.a.create()),Object(b["a"])(this,"authService",new I),this.vue=e,this.axios.interceptors.request.use((function(t){var e=a.authService.getToken();return e&&(t.headers[A]=e),t}),(function(t){return Promise.reject(t)})),this.axios.interceptors.response.use((function(t){return t}),(function(t){return t.response&&401===t.response.status&&(a.authService.clearToken(),a.vue.$store.commit(m.SetUser,null)),Promise.reject(t)}))}return Object(c["a"])(t,[{key:"browse",value:function(t){var e=t.join("/"),a="browse/".concat(e);return this.axios.get("/api/"+a)}},{key:"search",value:function(t){var e="search";return this.axios.get("/api/"+e,{params:{query:t}})}},{key:"stats",value:function(){var t="stats";return this.axios.get("/api/"+t)}},{key:"trackUrl",value:function(t){var e="track/".concat(t.fileId);return"/api/"+e}},{key:"thumbnailUrl",value:function(t){var e="thumbnail/".concat(t.fileId);return"/api/"+e}},{key:"initialize",value:function(t){var e="auth/register-initial";return this.axios.post("/api/"+e,t)}},{key:"login",value:function(t){var e=this,a="auth/login";return new Promise((function(n,i){e.axios.post("/api/"+a,t).then((function(t){e.authService.storeToken(t.data.token),e.refreshCurrentUser().then((function(){n()}),(function(t){i(t)}))}),(function(t){i(t)}))}))}},{key:"logout",value:function(){var t=this,e="auth/logout";return new Promise((function(a,n){t.axios.post("/api/"+e).then((function(){t.authService.clearToken(),t.vue.$store.commit(m.SetUser,null),a()}),(function(t){n(t)}))}))}},{key:"refreshCurrentUser",value:function(){var t=this,e="auth";return new Promise((function(a,n){t.axios.get("/api/"+e).then((function(e){t.vue.$store.commit(m.SetUser,e.data),a(e.data)}),(function(t){t.response&&401===t.response.status?a(null):n(t)}))}))}},{key:"register",value:function(t){var e="auth/register";return this.axios.post("/api/"+e,t)}},{key:"list",value:function(){var t="auth/users";return this.axios.get("/api/"+t)}},{key:"createInvitation",value:function(){var t="auth/create-invitation";return this.axios.post("/api/"+t)}},{key:"remove",value:function(t){t=encodeURIComponent(t);var e="auth/users/".concat(t,"/remove");return this.axios.post("/api/"+e)}}]),t}(),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"controls"},[a("div",{staticClass:"core"},[a("div",{staticClass:"shuffle"},[a("indicator",{attrs:{state:t.shuffle}},[a("a",{on:{click:function(e){return t.onShuffle()}}},[a("i",{staticClass:"fas fa-random"})])])],1),a("div",{staticClass:"previous"},[a("a",{on:{click:function(e){return t.onPrevious()}}},[a("i",{staticClass:"fas fa-backward"})])]),a("div",{staticClass:"play"},[a("a",{on:{click:function(e){return t.onPlayPause()}}},[a("indicator",{attrs:{state:!t.paused,width:15}},[t._v(" Play ")])],1)]),a("div",{staticClass:"next"},[a("a",{on:{click:function(e){return t.onNext()}}},[a("i",{staticClass:"fas fa-forward"})])]),a("div",{staticClass:"volume"},[a("Volume")],1)]),a("div",{staticClass:"progress"},[a("div",{staticClass:"current"},[t._v(" "+t._s(t.currentTime)+" ")]),a("div",{staticClass:"bar"},[a("progress-bar",{attrs:{value:t.currentTimePercentage},on:{"value-selected":t.seek}})],1),a("div",{staticClass:"duration"},[t._v(" "+t._s(t.duration)+" ")])])])},B=[],N=(a("25f0"),function(){function t(){Object(o["a"])(this,t)}return Object(c["a"])(t,[{key:"formatTime",value:function(t){var e=Math.floor(t/3600),a=Math.floor(t%3600/60),n=Math.floor(t%60);return e?"".concat(e,":").concat(this.pad(a,2),":").concat(this.pad(n,2)):"".concat(a,":").concat(this.pad(n,2))}},{key:"pad",value:function(t,e){var a=t.toString();while(a.length<e)a="0"+a;return a}}]),t}()),U=(a("4de4"),C=w=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"notifications",[]),Object(b["a"])(Object(u["a"])(t),"intervalID",void 0),t}return Object(c["a"])(a,[{key:"mounted",value:function(){var t=this;this.$root.$on(_.notificationEvent,(function(e){t.notifications.splice(0,0,e)})),this.intervalID=window.setInterval(this.processErrors,100)}},{key:"destroyed",value:function(){window.clearInterval(this.intervalID)}},{key:"shouldHide",value:function(t){var e=this.duration(new Date,t.created);return e>_.visibilityDuration}},{key:"processErrors",value:function(){var t=this;this.notifications=this.notifications.filter((function(e){var a=t.duration(new Date,e.created);return a<_.visibilityDuration+_.animationDuration}))}},{key:"duration",value:function(t,e){return(t.getTime()-e.getTime())/1e3}}],[{key:"pushError",value:function(t,e,a){var n=a&&a.response&&a.response.data&&a.response.data.message?a.response.data.message:null,i={id:this.notificationId++,class:"error",created:new Date,text:e,extra:n};t.$root.$emit(this.notificationEvent,i)}},{key:"pushSuccess",value:function(t,e){var a={id:this.notificationId++,class:"success",created:new Date,text:e,extra:null};t.$root.$emit(this.notificationEvent,a)}}]),a}(v["d"]),Object(b["a"])(w,"notificationEvent","eggplant_notification"),Object(b["a"])(w,"notificationId",0),Object(b["a"])(w,"visibilityDuration",10),Object(b["a"])(w,"animationDuration",2),_=C);U=_=Object(h["a"])([v["a"]],U);var M=U,V="seek",Q=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"intervalID",void 0),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),Object(b["a"])(Object(u["a"])(t),"currentNowPlaying",null),t}return Object(c["a"])(a,[{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"paused",get:function(){return this.$store.state.paused}},{key:"nowPlayingUrl",get:function(){var t=this.nowPlaying;return t?this.apiService.trackUrl(t.track):null}},{key:"audio",get:function(){return this.$refs.audio}},{key:"volume",get:function(){return this.$store.getters.volume}},{key:"onNowPlayingChanged",value:function(){if(!this.nowPlaying)return this.currentNowPlaying=null,void this.pause();this.currentNowPlaying&&this.currentNowPlaying===this.nowPlaying||(this.currentNowPlaying=this.nowPlaying,this.audio.src=this.nowPlayingUrl,this.play())}},{key:"onPausedChanged",value:function(t){t?this.audio.pause():this.audio.play()}},{key:"onVolumeChanged",value:function(t){this.audio.volume=t}},{key:"created",value:function(){this.intervalID=window.setInterval(this.emitValues,100)}},{key:"mounted",value:function(){var t=this;this.audio.volume=this.volume,this.$root.$on(V,(function(e){t.nowPlaying&&(t.audio.currentTime=t.audio.duration*e)}))}},{key:"destroyed",value:function(){window.clearInterval(this.intervalID)}},{key:"onEnded",value:function(){this.currentNowPlaying=null,this.$store.commit(m.Next)}},{key:"onError",value:function(){M.pushError(this,'Could not play "'.concat(this.nowPlaying.track.title,'".')),this.$store.commit(m.Next)}},{key:"onPlay",value:function(){this.$store.commit(m.Play)}},{key:"onPause",value:function(){this.$store.commit(m.Pause)}},{key:"emitValues",value:function(){if(this.audio){var t={currentTime:this.audio.currentTime,duration:this.audio.duration};this.$emit("playback-data",t)}}},{key:"play",value:function(){this.$store.commit(m.Play),this.audio.play()}},{key:"pause",value:function(){this.$store.commit(m.Pause),this.audio.pause()}}]),a}(v["d"]);Object(h["a"])([Object(v["e"])("nowPlaying")],Q.prototype,"onNowPlayingChanged",null),Object(h["a"])([Object(v["e"])("paused")],Q.prototype,"onPausedChanged",null),Object(h["a"])([Object(v["e"])("volume")],Q.prototype,"onVolumeChanged",null),Q=Object(h["a"])([Object(v["a"])({components:{}})],Q);var q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"progress-bar",staticClass:"progress-bar",on:{click:t.onClick,mousemove:t.onMouseMove,mousedown:t.onMouseDown,mouseup:t.onMouseUp,mouseleave:t.onMouseLeave}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"filled-in",style:{width:t.percentage}})])])},R=[],H=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"value",void 0),Object(b["a"])(Object(u["a"])(t),"progressBar",void 0),Object(b["a"])(Object(u["a"])(t),"mouseDown",!1),t}return Object(c["a"])(a,[{key:"percentage",get:function(){return this.value?100*this.value+"%":"0%"}},{key:"onClick",value:function(t){this.emitValue(t)}},{key:"onMouseMove",value:function(t){this.mouseDown&&this.emitValue(t)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseLeave",value:function(){this.mouseDown=!1}},{key:"emitValue",value:function(t){var e=this.getValue(t);this.$emit("value-selected",e)}},{key:"getValue",value:function(t){var e=this.progressBar.getBoundingClientRect(),a=t.clientX-e.left;return this.clamp(a/e.width)}},{key:"clamp",value:function(t){return t>1?1:t<0?0:t}}]),a}(v["d"]);Object(h["a"])([Object(v["b"])()],H.prototype,"value",void 0),Object(h["a"])([Object(v["c"])("progress-bar")],H.prototype,"progressBar",void 0),H=Object(h["a"])([v["a"]],H);var z=H,L=z,F=(a("68b4"),a("2877")),G=Object(F["a"])(L,q,R,!1,null,"345f1884",null),Y=G.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"volume"},[a("a",{staticClass:"button",on:{click:function(e){return t.toggleMute()}}},[t.muted?t._e():a("i",{staticClass:"fas fa-volume-up"}),t.muted?a("i",{staticClass:"fas fa-volume-mute"}):t._e()]),a("div",{staticClass:"bar"},[a("VerticalProgressBar",{attrs:{value:t.volume},on:{"value-selected":t.changeVolume}})],1)])},W=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"progress-bar",staticClass:"vertical-progress-bar",on:{click:t.onClick,mousemove:t.onMouseMove,mousedown:t.onMouseDown,mouseup:t.onMouseUp,mouseleave:t.onMouseLeave}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"filled-in",style:{height:t.percentage}})])])},X=[],Z=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"value",void 0),Object(b["a"])(Object(u["a"])(t),"progressBar",void 0),Object(b["a"])(Object(u["a"])(t),"mouseDown",!1),t}return Object(c["a"])(a,[{key:"percentage",get:function(){return this.value?100*this.value+"%":"0%"}},{key:"onClick",value:function(t){this.emitValue(t)}},{key:"onMouseMove",value:function(t){this.mouseDown&&this.emitValue(t)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseLeave",value:function(){this.mouseDown=!1}},{key:"emitValue",value:function(t){var e=this.getValue(t);this.$emit("value-selected",e)}},{key:"getValue",value:function(t){var e=this.progressBar.getBoundingClientRect(),a=t.clientY-e.top;return this.clamp(1-a/e.height)}},{key:"clamp",value:function(t){return t>1?1:t<0?0:t}}]),a}(v["d"]);Object(h["a"])([Object(v["b"])()],Z.prototype,"value",void 0),Object(h["a"])([Object(v["c"])("progress-bar")],Z.prototype,"progressBar",void 0),Z=Object(h["a"])([v["a"]],Z);var tt=Z,et=tt,at=(a("3e4c"),Object(F["a"])(et,J,X,!1,null,"37fb6a78",null)),nt=at.exports,it=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"volume",get:function(){return this.$store.getters.volume}},{key:"muted",get:function(){return this.$store.state.muted}},{key:"toggleMute",value:function(){this.$store.state.muted?this.$store.commit(m.Unmute):this.$store.commit(m.Mute)}},{key:"changeVolume",value:function(t){var e={volume:t};this.$store.commit(m.SetVolume,e)}}]),a}(v["d"]);it=Object(h["a"])([Object(v["a"])({components:{VerticalProgressBar:nt}})],it);var rt=it,st=rt,ot=(a("b5ae"),Object(F["a"])(st,K,W,!1,null,"19d054ae",null)),ct=ot.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"indicator"},[a("div",{staticClass:"bar",class:{enabled:t.state},style:{width:t.barWidth}}),a("div",{staticClass:"content"},[t._t("default")],2)])},lt=[],dt=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"state",void 0),Object(b["a"])(Object(u["a"])(t),"width",void 0),Object(b["a"])(Object(u["a"])(t),"baseWidth",4),t}return Object(c["a"])(a,[{key:"barWidth",get:function(){return"".concat(this.baseWidth+this.width,"px")}}]),a}(v["d"]);Object(h["a"])([Object(v["b"])({default:!1})],dt.prototype,"state",void 0),Object(h["a"])([Object(v["b"])({default:0})],dt.prototype,"width",void 0),dt=Object(h["a"])([v["a"]],dt);var bt=dt,ht=bt,vt=(a("2e48"),Object(F["a"])(ht,ut,lt,!1,null,"5752ccbc",null)),ft=vt.exports,pt=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"playbackData",void 0),Object(b["a"])(Object(u["a"])(t),"textService",new N),t}return Object(c["a"])(a,[{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"currentTime",get:function(){return this.nowPlaying&&this.playbackData&&this.playbackData.currentTime?this.textService.formatTime(this.playbackData.currentTime):null}},{key:"duration",get:function(){return this.nowPlaying&&this.playbackData&&this.playbackData.duration?this.textService.formatTime(this.playbackData.duration):null}},{key:"currentTimePercentage",get:function(){return this.playbackData&&this.playbackData.currentTime&&this.playbackData.duration?this.playbackData.currentTime/this.playbackData.duration:0}},{key:"paused",get:function(){return this.$store.getters.nowPlayingPaused}},{key:"shuffle",get:function(){return this.$store.state.shuffle}},{key:"onPlayPause",value:function(){this.paused?this.$store.commit(m.Play):this.$store.commit(m.Pause)}},{key:"onShuffle",value:function(){this.shuffle?this.$store.commit(m.NoShuffle):this.$store.commit(m.Shuffle)}},{key:"onPrevious",value:function(){this.$store.commit(m.Previous)}},{key:"onNext",value:function(){this.$store.commit(m.Next)}},{key:"seek",value:function(t){this.$root.$emit(V,t)}}]),a}(v["d"]);Object(h["a"])([Object(v["b"])()],pt.prototype,"playbackData",void 0),pt=Object(h["a"])([Object(v["a"])({components:{ProgressBar:Y,Volume:ct,Indicator:ft}})],pt);var mt=pt,yt=mt,gt=(a("35d1"),Object(F["a"])(yt,D,B,!1,null,"f4cdfada",null)),Ot=gt.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player"},[a("audio",{ref:"audio",attrs:{controls:""},on:{ended:t.onEnded,error:t.onError,play:t.onPlay,pause:t.onPause}})])},kt=[],wt="seek",Ct=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"intervalID",void 0),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),Object(b["a"])(Object(u["a"])(t),"currentNowPlaying",null),t}return Object(c["a"])(a,[{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"paused",get:function(){return this.$store.state.paused}},{key:"nowPlayingUrl",get:function(){var t=this.nowPlaying;return t?this.apiService.trackUrl(t.track):null}},{key:"audio",get:function(){return this.$refs.audio}},{key:"volume",get:function(){return this.$store.getters.volume}},{key:"onNowPlayingChanged",value:function(){if(!this.nowPlaying)return this.currentNowPlaying=null,void this.pause();this.currentNowPlaying&&this.currentNowPlaying===this.nowPlaying||(this.currentNowPlaying=this.nowPlaying,this.audio.src=this.nowPlayingUrl,this.play())}},{key:"onPausedChanged",value:function(t){t?this.audio.pause():this.audio.play()}},{key:"onVolumeChanged",value:function(t){this.audio.volume=t}},{key:"created",value:function(){this.intervalID=window.setInterval(this.emitValues,100)}},{key:"mounted",value:function(){var t=this;this.audio.volume=this.volume,this.$root.$on(wt,(function(e){t.nowPlaying&&(t.audio.currentTime=t.audio.duration*e)}))}},{key:"destroyed",value:function(){window.clearInterval(this.intervalID)}},{key:"onEnded",value:function(){this.currentNowPlaying=null,this.$store.commit(m.Next)}},{key:"onError",value:function(){M.pushError(this,'Could not play "'.concat(this.nowPlaying.track.title,'".')),this.$store.commit(m.Next)}},{key:"onPlay",value:function(){this.$store.commit(m.Play)}},{key:"onPause",value:function(){this.$store.commit(m.Pause)}},{key:"emitValues",value:function(){if(this.audio){var t={currentTime:this.audio.currentTime,duration:this.audio.duration};this.$emit("playback-data",t)}}},{key:"play",value:function(){this.$store.commit(m.Play),this.audio.play()}},{key:"pause",value:function(){this.$store.commit(m.Pause),this.audio.pause()}}]),a}(v["d"]);Object(h["a"])([Object(v["e"])("nowPlaying")],Ct.prototype,"onNowPlayingChanged",null),Object(h["a"])([Object(v["e"])("paused")],Ct.prototype,"onPausedChanged",null),Object(h["a"])([Object(v["e"])("volume")],Ct.prototype,"onVolumeChanged",null),Ct=Object(h["a"])([Object(v["a"])({components:{}})],Ct);var _t,Pt,xt,St=Ct,$t=St,Tt=(a("15f8"),Object(F["a"])($t,jt,kt,!1,null,"14454b50",null)),It=Tt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"notifications"},t._l(t.notifications,(function(e){return a("li",{key:e.id,staticClass:"notification",class:[e.class,t.shouldHide(e)?"hide":""]},[a("div",{staticClass:"text"},[t._v(" "+t._s(e.text)+" ")]),e.extra?a("div",{staticClass:"extra"},[t._v(" "+t._s(e.extra)+" ")]):t._e()])})),0)},Et=[],Dt=(Pt=_t=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"notifications",[]),Object(b["a"])(Object(u["a"])(t),"intervalID",void 0),t}return Object(c["a"])(a,[{key:"mounted",value:function(){var t=this;this.$root.$on(xt.notificationEvent,(function(e){t.notifications.splice(0,0,e)})),this.intervalID=window.setInterval(this.processErrors,100)}},{key:"destroyed",value:function(){window.clearInterval(this.intervalID)}},{key:"shouldHide",value:function(t){var e=this.duration(new Date,t.created);return e>xt.visibilityDuration}},{key:"processErrors",value:function(){var t=this;this.notifications=this.notifications.filter((function(e){var a=t.duration(new Date,e.created);return a<xt.visibilityDuration+xt.animationDuration}))}},{key:"duration",value:function(t,e){return(t.getTime()-e.getTime())/1e3}}],[{key:"pushError",value:function(t,e,a){var n=a&&a.response&&a.response.data&&a.response.data.message?a.response.data.message:null,i={id:this.notificationId++,class:"error",created:new Date,text:e,extra:n};t.$root.$emit(this.notificationEvent,i)}},{key:"pushSuccess",value:function(t,e){var a={id:this.notificationId++,class:"success",created:new Date,text:e,extra:null};t.$root.$emit(this.notificationEvent,a)}}]),a}(v["d"]),Object(b["a"])(_t,"notificationEvent","eggplant_notification"),Object(b["a"])(_t,"notificationId",0),Object(b["a"])(_t,"visibilityDuration",10),Object(b["a"])(_t,"animationDuration",2),xt=Pt);Dt=xt=Object(h["a"])([v["a"]],Dt);var Bt=Dt,Nt=Bt,Ut=(a("2cd4"),Object(F["a"])(Nt,At,Et,!1,null,"fa2d66b2",null)),Mt=Ut.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isConverting?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.text,expression:"text"}],staticClass:"conversion-status"},[a("spinner")],1):t._e()},Qt=[],qt=(a("b680"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),Rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner"},[a("i",{staticClass:"fas fa-circle-notch fa-spin"})])}],Ht=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return a}(v["d"]);Ht=Object(h["a"])([v["a"]],Ht);var zt=Ht,Lt=zt,Ft=(a("aacf"),Object(F["a"])(Lt,qt,Rt,!1,null,"5bbc4aac",null)),Gt=Ft.exports,Yt=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"stats",null),Object(b["a"])(Object(u["a"])(t),"timeoutId",null),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"created",value:function(){this.update()}},{key:"destroyed",value:function(){this.timeoutId&&window.clearTimeout(this.timeoutId)}},{key:"isConverting",get:function(){var t=this.getThumbnailStats();if(t&&t.allItems>t.convertedItems)return!0;var e=this.getTrackStats();return!!(e&&e.allItems>e.convertedItems)}},{key:"text",get:function(){var t=[],e=this.getThumbnailStats();if(e){var a=this.getPercentage(e);null!==a&&100!==a&&t.push("Converting thumbnails (".concat(this.getPercentageText(a),")."))}var n=this.getTrackStats();if(n){var i=this.getPercentage(n);null!==i&&100!==i&&t.push("Converting tracks (".concat(this.getPercentageText(i),")."))}return t.join(" ")}},{key:"getPercentage",value:function(t){return 0===t.allItems?null:t.convertedItems/t.allItems*100}},{key:"getPercentageText",value:function(t){var e=t.toFixed(0);return"".concat(e,"%")}},{key:"schedule",value:function(){this.timeoutId=window.setTimeout(this.update,1e4)}},{key:"update",value:function(){var t=this;this.apiService.stats().then((function(e){t.stats=e.data,t.schedule()}),(function(){t.stats=null,t.schedule()}))}},{key:"getThumbnailStats",value:function(){return this.stats?this.stats.thumbnails:null}},{key:"getTrackStats",value:function(){return this.stats?this.stats.tracks:null}}]),a}(v["d"]);Yt=Object(h["a"])([Object(v["a"])({components:{Spinner:Gt}})],Yt);var Kt=Yt,Wt=Kt,Jt=(a("eaaaa"),Object(F["a"])(Wt,Vt,Qt,!1,null,"6945a876",null)),Xt=Jt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"now-playing",class:{hidden:!t.nowPlaying}},[t.nowPlaying?a("div",{staticClass:"trackTitle"},[a("a",{on:{click:function(e){return t.goToNowPlayingSong()}}},[t._v(" "+t._s(t.trackTitle)+" ")])]):t._e(),t.nowPlaying?a("div",{staticClass:"albumTitle"},[a("a",{on:{click:function(e){return t.goToNowPlayingAlbum()}}},[t._v(" "+t._s(t.albumTitle)+" ")])]):t._e()])},te=[],ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"thumbnail"},[t.album.thumbnail?a("div",{staticClass:"artwork"},[a("img",{ref:"image",attrs:{src:t.thumbnailUrl},on:{error:t.onError,load:t.onLoad}}),t.converting?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This thumbnail has not been converted yet.",expression:"'This thumbnail has not been converted yet.'"}],staticClass:"spinner-container"},[a("spinner")],1):t._e()]):t._e(),t.album.thumbnail?t._e():a("div",{staticClass:"icon"},[a("i",{staticClass:"fas fa-compact-disc"})])])},ae=[],ne=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"album",void 0),Object(b["a"])(Object(u["a"])(t),"image",void 0),Object(b["a"])(Object(u["a"])(t),"converting",!1),Object(b["a"])(Object(u["a"])(t),"timeoutId",void 0),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"thumbnailUrl",get:function(){return this.album?this.apiService.thumbnailUrl(this.album.thumbnail):null}},{key:"destroyed",value:function(){this.clearTimeout()}},{key:"onError",value:function(){this.converting=!0,this.reload()}},{key:"onLoad",value:function(){this.converting=!1}},{key:"reload",value:function(){var t=this;this.clearTimeout(),this.timeoutId=window.setTimeout((function(){return t.image.src=t.thumbnailUrl}),5e3)}},{key:"clearTimeout",value:function(){this.timeoutId&&window.clearTimeout(this.timeoutId)}}]),a}(v["d"]);Object(h["a"])([Object(v["b"])()],ne.prototype,"album",void 0),Object(h["a"])([Object(v["c"])()],ne.prototype,"image",void 0),ne=Object(h["a"])([Object(v["a"])({components:{Spinner:Gt}})],ne);var ie=ne,re=ie,se=(a("b6e4"),Object(F["a"])(re,ee,ae,!1,null,"11a00a88",null)),oe=se.exports,ce=function(){function t(){Object(o["a"])(this,t)}return Object(c["a"])(t,[{key:"getBrowse",value:function(t){var e=t.path?t.path:[],a=e.join("/");return{path:"/browse/".concat(a)}}}]),t}(),ue=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"navigationService",new ce),t}return Object(c["a"])(a,[{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"trackTitle",get:function(){return this.nowPlaying&&this.nowPlaying.track?this.nowPlaying.track.title:null}},{key:"albumTitle",get:function(){return this.nowPlaying&&this.nowPlaying.album?this.nowPlaying.album.title:null}},{key:"goToNowPlayingSong",value:function(){this.goToNowPlayingAlbum()}},{key:"goToNowPlayingAlbum",value:function(){var t=this.navigationService.getBrowse(this.nowPlaying.album);this.$router.push(t)}}]),a}(v["d"]);ue=Object(h["a"])([Object(v["a"])({components:{Thumbnail:oe}})],ue);var le=ue,de=le,be=(a("2099"),Object(F["a"])(de,Zt,te,!1,null,"2b870c54",null)),he=be.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},fe=[],pe=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"paused",get:function(){return!this.$store.getters.nowPlaying||this.$store.state.paused}},{key:"onNowPlayingChanged",value:function(){var t=this.mediaSession;if(t){if(!this.nowPlaying)return void(t.metadata=null);var e={title:this.nowPlaying.track.title,album:this.nowPlaying.album.title,artwork:[{src:null,sizes:null}]};if(this.nowPlaying.album.thumbnail){var a=this.apiService.thumbnailUrl(this.nowPlaying.album.thumbnail);e.artwork=[{src:a,sizes:"200x200"}]}t.metadata=new MediaMetadata(e)}}},{key:"onPausedChanged",value:function(){var t=this.mediaSession;t&&(t.playbackState=this.paused?"paused":"playing")}},{key:"created",value:function(){var t=this,e=this.mediaSession;e&&(e.setActionHandler("play",(function(){return t.onPlay()})),e.setActionHandler("pause",(function(){return t.onPause()})),e.setActionHandler("previoustrack",(function(){return t.onPrevious()})),e.setActionHandler("nexttrack",(function(){return t.onNext()})))}},{key:"onPlay",value:function(){this.$store.commit(m.Play)}},{key:"onPause",value:function(){this.$store.commit(m.Pause)}},{key:"onPrevious",value:function(){this.$store.commit(m.Previous)}},{key:"onNext",value:function(){this.$store.commit(m.Next)}},{key:"mediaSession",get:function(){return"mediaSession"in window.navigator?window.navigator.mediaSession:null}}]),a}(v["d"]);Object(h["a"])([Object(v["e"])("nowPlaying")],pe.prototype,"onNowPlayingChanged",null),Object(h["a"])([Object(v["e"])("paused")],pe.prototype,"onPausedChanged",null),pe=Object(h["a"])([v["a"]],pe);var me=pe,ye=me,ge=Object(F["a"])(ye,ve,fe,!1,null,null,null),Oe=ge.exports,je=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"playbackData",null),Object(b["a"])(Object(u["a"])(t),"errCheckSetup","Could not confirm whether this instance's setup process was completed."),Object(b["a"])(Object(u["a"])(t),"errCheckUser","Could not retrieve the current user."),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"created",value:function(){window.addEventListener("keydown",this.onKeyDown),this.redirectToSetupIfNeeded(),this.loadCurrentUser()}},{key:"destroyed",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"onKeyDown",value:function(t){"Space"===t.code&&(this.$store.state.paused?this.$store.commit(m.Play):this.$store.commit(m.Pause),t.preventDefault())}},{key:"onPlaybackData",value:function(t){this.playbackData=t}},{key:"showNowPlaying",get:function(){return!!this.$store.getters.nowPlaying}},{key:"isCsd",get:function(){var t=new Date,e=t.getDate(),a=t.getMonth()+1;return 28===e&&6===a}},{key:"redirectToSetupIfNeeded",value:function(){var t=this;this.apiService.stats().then((function(e){0===e.data.users&&t.$router.push({name:"setup"})}),(function(e){Mt.pushError(t,t.errCheckSetup,e)}))}},{key:"loadCurrentUser",value:function(){var t=this;this.apiService.refreshCurrentUser().catch((function(e){Mt.pushError(t,t.errCheckUser,e)}))}}]),a}(v["d"]);je=Object(h["a"])([Object(v["a"])({components:{Controls:Ot,Player:It,ConversionStatus:Xt,Notifications:Mt,NowPlaying:he,MediaSession:Oe}})],je);var ke=je,we=ke,Ce=(a("9d14"),Object(F["a"])(we,r,s,!1,null,null,null)),_e=Ce.exports,Pe=a("8c4f"),xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"browse",class:{forbidden:t.forbidden}},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"topbar"},[a("search-input",{staticClass:"search",model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),a("ul",{staticClass:"buttons"},[a("li",{staticClass:"button",class:{active:t.showQueue}},[a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.showQueue?"Close queue.":"Queue.",expression:"showQueue ? 'Close queue.' : 'Queue.'"}],on:{click:t.toggleQueue}},[a("i",{staticClass:"fas fa-list-ol"})])]),a("li",{staticClass:"button"},[a("login-button")],1)])],1),a("div",{ref:"content",staticClass:"content"},[t.album?t._e():a("spinner",{staticClass:"spinner"}),t.album?a("div",{staticClass:"album"},[a("div",{staticClass:"artwork"},[a("thumbnail",{attrs:{album:t.basicAlbum}})],1),a("div",{staticClass:"info"},[a("ul",{staticClass:"crumbs"},[a("li",[a("router-link",{attrs:{to:"/browse"}},[t._v(" Eggplant ")])],1),t._l(t.album.parents,(function(e){return a("li",[a("router-link",{attrs:{to:t.parentUrl(e)}},[t._v(" "+t._s(e.title)+" ")])],1)}))],2),a("div",{staticClass:"title"},[t._v(" "+t._s(t.album.title)+" ")]),t.numberOfTracks>0?a("div",{staticClass:"details"},[t._v(" "+t._s(t.numberOfTracks)+" tracks, "+t._s(t.totalDurationMinutes)+" minutes ")]):t._e(),t.numberOfTracks>0?a("ul",{staticClass:"actions"},[a("li",[a("a",{staticClass:"play",on:{click:t.onPlayAlbumButtonClicked}},[t.showPlayAlbumButtonAsPause?a("i",{staticClass:"icon fas fa-pause"}):a("i",{staticClass:"icon fas fa-play"})])]),a("li",[a("dropdown",{ref:"dropdown",scopedSlots:t._u([{key:"trigger",fn:function(){return[a("a",{staticClass:"secondary"},[a("i",{staticClass:"fas fa-ellipsis-h"})])]},proxy:!0},{key:"content",fn:function(){return[a("dropdown-element",[a("a",{on:{click:t.addAlbumToQueue}},[t._v(" Add album to queue ")])])]},proxy:!0}],null,!1,684935244)})],1)]):t._e()])]):t._e(),t.album&&t.album.tracks?a("div",[a("SubHeader",{attrs:{text:"Tracks"}}),a("Tracks",{attrs:{entries:t.entries}})],1):t._e(),t.albums?a("div",[a("SubHeader",{attrs:{text:"Albums"}}),a("Albums",{attrs:{albums:t.albums},on:{"select-album":t.selectAlbum}})],1):t._e(),!t.album||t.album.albums||t.album.tracks?t._e():a("div",{staticClass:"no-content-message"},[t._v(" The music library is empty or you do not have permissions to view any tracks or albums. ")])],1),t.showQueue?a("div",{staticClass:"content queue"},[a("main-header",{attrs:{text:"Queue"}}),a("queue",{on:{"select-album":t.selectAlbum}})],1):t._e(),t.showSearch?a("div",{staticClass:"content search"},[a("main-header",{attrs:{text:"Search"}}),a("search",{attrs:{query:t.searchQuery},on:{"select-album":t.selectAlbum}})],1):t._e(),t._m(0)])])},Se=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"forbidden-message"},[a("div",{staticClass:"message"},[a("div",{staticClass:"icon"},[a("i",{staticClass:"fas fa-exclamation-triangle"})]),t._v(" Access denied, please confirm that you are signed in. ")])])}],$e=a("b85c"),Te=(a("d81d"),a("7db0"),a("ac1f"),a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subheader"},[a("div",{staticClass:"text"},[t._v(t._s(t.text))]),a("div",{staticClass:"line"})])}),Ie=[],Ae=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"text",void 0),t}return a}(v["d"]);Object(h["a"])([Object(v["b"])()],Ae.prototype,"text",void 0),Ae=Object(h["a"])([v["a"]],Ae);var Ee=Ae,De=Ee,Be=(a("0499"),Object(F["a"])(De,Te,Ie,!1,null,"1b676b41",null)),Ne=Be.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-header"},[a("div",{staticClass:"text"},[t._v(t._s(t.text))])])},Me=[],Ve=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"text",void 0),t}return a}(v["d"]);Object(h["a"])([Object(v["b"])()],Ve.prototype,"text",void 0),Ve=Object(h["a"])([v["a"]],Ve);var Qe=Ve,qe=Qe,Re=(a("db83"),Object(F["a"])(qe,Ue,Me,!1,null,"150104fa",null)),He=Re.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"albums"},t._l(t.albums,(function(e){return a("a",{staticClass:"album",on:{click:function(a){return t.selectAlbum(e)}}},[a("div",{staticClass:"image"},[a("thumbnail",{attrs:{album:e}})],1),a("div",{staticClass:"title"},[t._v(" "+t._s(e.title)+" ")])])})),0)},Le=[],Fe=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"albums",void 0),t}return Object(c["a"])(a,[{key:"selectAlbum",value:function(t){this.$emit("select-album",t)}}]),a}(v["d"]);Object(h["a"])([Object(v["b"])()],Fe.prototype,"albums",void 0),Fe=Object(h["a"])([Object(v["a"])({components:{Thumbnail:oe}})],Fe);var Ge=Fe,Ye=Ge,Ke=(a("e951"),Object(F["a"])(Ye,ze,Le,!1,null,"c5523daa",null)),We=Ke.exports,Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"tracks"},t._l(t.entries,(function(e,n){return a("li",{staticClass:"track"},[a("div",{staticClass:"play",class:{playing:t.isNowPlaying(n,e.track)}},[t.showPlayAlbumButtonAsPause(n,e.track)?a("a",{staticClass:"button",on:{click:function(e){return t.onPlayTrackButtonClicked(n)}}},[a("i",{staticClass:"icon fas fa-pause"})]):a("a",{staticClass:"button",on:{click:function(e){return t.onPlayTrackButtonClicked(n)}}},[a("i",{staticClass:"icon fas fa-play"})]),a("div",{staticClass:"number"},[t._v(" "+t._s(n+1)+". ")])]),a("div",{staticClass:"title",attrs:{title:e.track.title}},[t._v(" "+t._s(e.track.title)+" ")]),a("dropdown",{ref:"dropdowns",refInFor:!0,staticClass:"actions",scopedSlots:t._u([{key:"trigger",fn:function(){return[a("div",{staticClass:"target"},[a("i",{staticClass:"fas fa-ellipsis-h"})])]},proxy:!0},{key:"content",fn:function(){return[a("dropdown-element",[a("a",{on:{click:function(a){return t.addToQueue(e)}}},[t._v(" Add to queue ")])]),t.queueMode?a("dropdown-element",[a("a",{on:{click:function(a){return t.removeFromQueue(e)}}},[t._v(" Remove from queue ")])]):t._e(),t.showGoToAlbum?a("dropdown-divider"):t._e(),t.showGoToAlbum?a("dropdown-element",[a("a",{on:{click:function(a){return t.goToAlbum(e)}}},[t._v(" Go to album ")])]):t._e()]},proxy:!0}],null,!0)}),a("div",{staticClass:"duration"},[t.isBeingConverted(e.track)?t._e():a("div",[t._v(" "+t._s(t.formatDuration(e.track))+" ")]),t.isBeingConverted(e.track)?a("div",[a("spinner",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This track has not been converted yet.",expression:"'This track has not been converted yet.'"}]})],1):t._e()])],1)})),0)},Xe=[],Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown"},[t.isOpen?a("div",{staticClass:"close-overlay",on:{click:t.close}}):t._e(),a("div",{staticClass:"black-overlay",class:{dark:t.isOpen}}),a("div",{staticClass:"wrapper"},[a("a",{ref:"trigger",staticClass:"trigger",on:{click:t.open}},[t._t("trigger")],2),t.isOpen?a("div",{staticClass:"arrow",style:{top:t.arrowTop,left:t.arrowLeft}}):t._e(),t.isOpen?a("ul",{staticClass:"content",style:{top:t.top,left:t.left}},[t._t("content")],2):t._e()])])},ta=[],ea=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"isOpen",!1),Object(b["a"])(Object(u["a"])(t),"top",""),Object(b["a"])(Object(u["a"])(t),"left",""),Object(b["a"])(Object(u["a"])(t),"arrowTop",""),Object(b["a"])(Object(u["a"])(t),"arrowLeft",""),Object(b["a"])(Object(u["a"])(t),"trigger",void 0),t}return Object(c["a"])(a,[{key:"created",value:function(){window.addEventListener("resize",this.onResize)}},{key:"destroyed",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"onResize",value:function(){this.refreshPositions()}},{key:"open",value:function(){this.refreshPositions(),this.isOpen=!0}},{key:"close",value:function(){this.isOpen=!1}},{key:"refreshPositions",value:function(){var t=this.trigger.getBoundingClientRect();this.top=t.bottom+"px",this.left=t.x+"px",this.arrowTop=t.bottom+"px",this.arrowLeft=t.x+t.width/2+"px"}}]),a}(v["d"]);Object(h["a"])([Object(v["c"])("trigger")],ea.prototype,"trigger",void 0),ea=Object(h["a"])([v["a"]],ea);var aa=ea,na=aa,ia=(a("7fbd"),Object(F["a"])(na,Ze,ta,!1,null,"948cd978",null)),ra=ia.exports,sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"dropdown-element"},[t._t("default")],2)},oa=[],ca=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return a}(v["d"]);ca=Object(h["a"])([v["a"]],ca);var ua=ca,la=ua,da=(a("ee62"),Object(F["a"])(la,sa,oa,!1,null,"35969062",null)),ba=da.exports,ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"dropdown-divider"})},va=[],fa=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return a}(v["d"]);fa=Object(h["a"])([v["a"]],fa);var pa=fa,ma=pa,ya=(a("1f42"),Object(F["a"])(ma,ha,va,!1,null,"c65ccd08",null)),ga=ya.exports,Oa=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"entries",void 0),Object(b["a"])(Object(u["a"])(t),"queueMode",void 0),Object(b["a"])(Object(u["a"])(t),"showGoToAlbum",void 0),Object(b["a"])(Object(u["a"])(t),"dropdowns",void 0),Object(b["a"])(Object(u["a"])(t),"textService",new N),t}return Object(c["a"])(a,[{key:"isNowPlaying",value:function(t,e){var a=this.$store.getters.nowPlaying;return!!a&&(this.queueMode?t===this.$store.state.playingIndex:e.id===a.track.id)}},{key:"showPlayAlbumButtonAsPause",value:function(t,e){if(!this.nowPlaying)return!1;if(this.queueMode){if(t===this.$store.state.playingIndex)return!this.paused()}else if(this.nowPlaying.track.id===e.id)return!this.paused();return!1}},{key:"isBeingConverted",value:function(t){return!t.duration}},{key:"onPlayTrackButtonClicked",value:function(t){if(this.isNowPlaying(t,this.entries[t].track))this.paused()?this.$store.commit(m.Play):this.$store.commit(m.Pause);else{var e=this.entries.map((function(t){return{album:t.album,track:t.track}})),a={entries:e,playingIndex:t};this.$store.commit(m.Replace,a)}}},{key:"addToQueue",value:function(t){var e={entries:[t]};this.$store.commit(m.Append,e),this.closeDropdowns(),M.pushSuccess(this,"Song added to queue.")}},{key:"removeFromQueue",value:function(t){var e={entry:t};this.$store.commit(m.Remove,e),this.closeDropdowns()}},{key:"goToAlbum",value:function(t){this.closeDropdowns(),this.$emit("select-album",t.album)}},{key:"formatDuration",value:function(t){return this.textService.formatTime(t.duration)}},{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"paused",value:function(){return this.$store.getters.nowPlayingPaused}},{key:"closeDropdowns",value:function(){var t,e=Object($e["a"])(this.dropdowns);try{for(e.s();!(t=e.n()).done;){var a=t.value;a.close()}}catch(n){e.e(n)}finally{e.f()}}}]),a}(v["d"]);Object(h["a"])([Object(v["b"])()],Oa.prototype,"entries",void 0),Object(h["a"])([Object(v["b"])()],Oa.prototype,"queueMode",void 0),Object(h["a"])([Object(v["b"])()],Oa.prototype,"showGoToAlbum",void 0),Object(h["a"])([Object(v["c"])("dropdowns")],Oa.prototype,"dropdowns",void 0),Oa=Object(h["a"])([Object(v["a"])({components:{Spinner:Gt,Dropdown:ra,DropdownElement:ba,DropdownDivider:ga}})],Oa);var ja=Oa,ka=ja,wa=(a("18d6"),Object(F["a"])(ka,Je,Xe,!1,null,"c04b9196",null)),Ca=wa.exports,_a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-button"},[t.loading?a("div",{staticClass:"button"},[a("spinner")],1):t._e(),!t.loading&&t.user?a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"You are signed in as "+t.user.username+".",expression:"'You are signed in as '+ user.username + '.'"}],staticClass:"button",on:{click:t.settings}},[a("i",{staticClass:"fas fa-user-check"})]):t._e(),t.loading||t.user?t._e():a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"You are not signed in, some content may not be visible.",expression:"'You are not signed in, some content may not be visible.'"}],staticClass:"button",on:{click:t.login}},[a("i",{staticClass:"fas fa-user-times"})])])},Pa=[],xa=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"loading",get:function(){return void 0===this.user}},{key:"user",get:function(){return this.$store.state.user}},{key:"login",value:function(){this.$router.push({name:"login",query:{next:window.location.pathname}})}},{key:"settings",value:function(){this.$router.push({name:"settings"})}}]),a}(v["d"]);xa=Object(h["a"])([Object(v["a"])({components:{Spinner:Gt}})],xa);var Sa=xa,$a=Sa,Ta=(a("2206"),Object(F["a"])($a,_a,Pa,!1,null,"69a33e93",null)),Ia=Ta.exports,Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-input"},[t._m(0),t.showCloseButton?a("a",{staticClass:"close",on:{click:function(e){return t.$emit("input","")}}},[a("i",{staticClass:"fas fa-times"})]):t._e(),a("input",{attrs:{type:"text",placeholder:"Search",maxlength:"100"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},keydown:function(t){t.stopPropagation()}}})])},Ea=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("i",{staticClass:"fas fa-search"})])}],Da=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"value",void 0),t}return Object(c["a"])(a,[{key:"showCloseButton",get:function(){return!!this.value}}]),a}(v["d"]);Object(h["a"])([Object(v["b"])()],Da.prototype,"value",void 0),Da=Object(h["a"])([v["a"]],Da);var Ba=Da,Na=Ba,Ua=(a("825f"),Object(F["a"])(Na,Aa,Ea,!1,null,"b55fcb5a",null)),Ma=Ua.exports,Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"queue"},[t.empty?a("div",{staticClass:"message"},[t._v(" Your queue is empty. ")]):t._e(),a("tracks",{attrs:{entries:t.entries,queueMode:!0,showGoToAlbum:!0},on:{"select-album":t.onSelectAlbum}})],1)},Qa=[],qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-input"},[t.icon?a("div",{staticClass:"icon"},[a("i",{class:t.icon})]):t._e(),a("input",{attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},keydown:t.onKeyDown}})])},Ra=[],Ha=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"type",void 0),Object(b["a"])(Object(u["a"])(t),"placeholder",void 0),Object(b["a"])(Object(u["a"])(t),"value",void 0),Object(b["a"])(Object(u["a"])(t),"icon",void 0),t}return Object(c["a"])(a,[{key:"onKeyDown",value:function(t){"Enter"===t.key&&this.$emit("submit")}}]),a}(v["d"]);Object(h["a"])([Object(v["b"])()],Ha.prototype,"type",void 0),Object(h["a"])([Object(v["b"])()],Ha.prototype,"placeholder",void 0),Object(h["a"])([Object(v["b"])()],Ha.prototype,"value",void 0),Object(h["a"])([Object(v["b"])()],Ha.prototype,"icon",void 0),Ha=Object(h["a"])([v["a"]],Ha);var za=Ha,La=za,Fa=(a("a272"),Object(F["a"])(La,qa,Ra,!1,null,"150c07e4",null)),Ga=Fa.exports,Ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"app-button",class:{disabled:t.disabled,working:t.working},on:{click:t.onClick}},[t.working?t._e():a("span",[t._v(t._s(t.text))]),t.working?a("spinner"):t._e()],1)},Ka=[],Wa=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"text",void 0),Object(b["a"])(Object(u["a"])(t),"disabled",void 0),Object(b["a"])(Object(u["a"])(t),"working",void 0),t}return Object(c["a"])(a,[{key:"onClick",value:function(t){this.disabled||this.working||this.$emit("click",t)}}]),a}(v["d"]);Object(h["a"])([Object(v["b"])()],Wa.prototype,"text",void 0),Object(h["a"])([Object(v["b"])()],Wa.prototype,"disabled",void 0),Object(h["a"])([Object(v["b"])()],Wa.prototype,"working",void 0),Wa=Object(h["a"])([Object(v["a"])({components:{Spinner:Gt}})],Wa);var Ja=Wa,Xa=Ja,Za=(a("fd9b"),Object(F["a"])(Xa,Ya,Ka,!1,null,"59d015a9",null)),tn=Za.exports,en=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action-bar-button"},[t.working?t._e():a("a",{on:{click:t.onClick}},[a("i",{class:t.icon}),t._v(" "+t._s(t.text)+" ")]),t.working?a("spinner"):t._e()],1)},an=[],nn=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"icon",void 0),Object(b["a"])(Object(u["a"])(t),"text",void 0),Object(b["a"])(Object(u["a"])(t),"working",void 0),t}return Object(c["a"])(a,[{key:"onClick",value:function(t){this.working||this.$emit("click",t)}}]),a}(v["d"]);Object(h["a"])([Object(v["b"])()],nn.prototype,"icon",void 0),Object(h["a"])([Object(v["b"])()],nn.prototype,"text",void 0),Object(h["a"])([Object(v["b"])()],nn.prototype,"working",void 0),nn=Object(h["a"])([Object(v["a"])({components:{Spinner:Gt}})],nn);var rn=nn,sn=rn,on=(a("c23f"),Object(F["a"])(sn,en,an,!1,null,"3e25782c",null)),cn=on.exports,un=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action-bar"},[t._t("default")],2)},ln=[],dn=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return a}(v["d"]);dn=Object(h["a"])([v["a"]],dn);var bn=dn,hn=bn,vn=(a("00a8"),Object(F["a"])(hn,un,ln,!1,null,"3fbe51a9",null)),fn=vn.exports,pn=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"entries",get:function(){return this.$store.state.entries}},{key:"empty",get:function(){return!this.entries||0===this.entries.length}},{key:"onSelectAlbum",value:function(t){this.$emit("select-album",t)}}]),a}(v["d"]);pn=Object(h["a"])([Object(v["a"])({components:{MainHeader:He,FormInput:Ga,AppButton:tn,ActionBar:fn,ActionBarButton:cn,Tracks:Ca}})],pn);var mn=pn,yn=mn,gn=(a("9491"),Object(F["a"])(yn,Va,Qa,!1,null,"531951bf",null)),On=gn.exports,jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[t.result?t._e():a("spinner"),t.result?a("div",[a("SubHeader",{attrs:{text:"Tracks"}}),a("Tracks",{attrs:{entries:t.tracks,showGoToAlbum:!0},on:{"select-album":t.selectAlbum}}),0===t.tracks.length?a("div",{staticClass:"message"},[t._v(" No tracks found. ")]):t._e(),a("SubHeader",{attrs:{text:"Albums"}}),a("Albums",{attrs:{albums:t.albums},on:{"select-album":t.selectAlbum}}),0===t.albums.length?a("div",{staticClass:"message"},[t._v(" No albums found. ")]):t._e()],1):t._e()],1)},kn=[],wn=(a("841c"),function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"query",void 0),Object(b["a"])(Object(u["a"])(t),"result",null),Object(b["a"])(Object(u["a"])(t),"timeoutId",null),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),Object(b["a"])(Object(u["a"])(t),"searchDelay",250),t}return Object(c["a"])(a,[{key:"onQueryChanged",value:function(){this.scheduleTimeout()}},{key:"tracks",get:function(){return this.result&&this.result.tracks?this.result.tracks.map((function(t){return{album:t.album,track:t.track}})):[]}},{key:"albums",get:function(){return this.result&&this.result.albums?this.result.albums:[]}},{key:"selectAlbum",value:function(t){this.$emit("select-album",t)}},{key:"load",value:function(){var t=this;if(this.result=null,this.query&&0!==this.query.length){var e=this.query;this.apiService.search(this.query).then((function(a){t.query===e&&(t.result=a.data)}))}}},{key:"scheduleTimeout",value:function(){this.clearTimeout(),this.timeoutId=window.setTimeout(this.load,this.searchDelay)}},{key:"clearTimeout",value:function(){this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=null)}}]),a}(v["d"]));Object(h["a"])([Object(v["b"])()],wn.prototype,"query",void 0),Object(h["a"])([Object(v["e"])("query",{immediate:!0})],wn.prototype,"onQueryChanged",null),wn=Object(h["a"])([Object(v["a"])({components:{MainHeader:He,FormInput:Ga,AppButton:tn,ActionBar:fn,ActionBarButton:cn,Tracks:Ca,Albums:We,SubHeader:Ne,Spinner:Gt}})],wn);var Cn,_n=wn,Pn=_n,xn=(a("f132"),Object(F["a"])(Pn,jn,kn,!1,null,"1866a8c4",null)),Sn=xn.exports;(function(t){t["Browse"]="browse",t["Search"]="search",t["Queue"]="queue"})(Cn||(Cn={}));var $n=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"album",null),Object(b["a"])(Object(u["a"])(t),"forbidden",!1),Object(b["a"])(Object(u["a"])(t),"searchQuery",null),Object(b["a"])(Object(u["a"])(t),"view",Cn.Browse),Object(b["a"])(Object(u["a"])(t),"dropdown",void 0),Object(b["a"])(Object(u["a"])(t),"contentDiv",void 0),Object(b["a"])(Object(u["a"])(t),"timeoutId",void 0),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),Object(b["a"])(Object(u["a"])(t),"navigationService",new ce),t}return Object(c["a"])(a,[{key:"onRouteChanged",value:function(){this.album=null,this.load(),this.scrollContentToTop(),this.switchView(Cn.Browse)}},{key:"onSearchQueryChanged",value:function(){this.searchQuery?this.view!==Cn.Search&&this.switchView(Cn.Search):this.view===Cn.Search&&this.switchView(Cn.Browse)}},{key:"created",value:function(){this.load()}},{key:"destroyed",value:function(){this.clearTimeout()}},{key:"parentUrl",value:function(t){var e=this.album.parents.indexOf(t),a=this.album.parents.filter((function(t,a){return a<=e})).map((function(t){return t.id})),n=a.join("/");return"/browse/".concat(n)}},{key:"selectAlbum",value:function(t){this.switchView(Cn.Browse);var e=this.navigationService.getBrowse(t);this.$router.push(e)}},{key:"toggleQueue",value:function(){this.view===Cn.Queue?this.switchView(Cn.Browse):this.switchView(Cn.Queue)}},{key:"onPlayAlbumButtonClicked",value:function(){if(this.anyAlbumSongIsCurrentlyNowPlaying())this.paused()?this.$store.commit(m.Play):this.$store.commit(m.Pause);else{var t=this.entries.map((function(t){return{album:t.album,track:t.track}})),e={entries:t,playingIndex:0};this.$store.commit(m.Replace,e)}}},{key:"addAlbumToQueue",value:function(){var t=this.entries.map((function(t){return{album:t.album,track:t.track}})),e={entries:t};this.$store.commit(m.Append,e),this.dropdown.close(),M.pushSuccess(this,"Album added to queue.")}},{key:"onSearchNavigation",value:function(){this.scrollContentToTop(),this.searchQuery=null}},{key:"showSearch",get:function(){return this.view===Cn.Search}},{key:"showQueue",get:function(){return this.view===Cn.Queue}},{key:"noContent",get:function(){return!!this.album&&(!(this.album.tracks&&this.album.tracks.length>0)&&!(this.album.albums&&this.album.albums.length>0))}},{key:"numberOfTracks",get:function(){return this.album&&this.album.tracks?this.album.tracks.length:0}},{key:"entries",get:function(){var t=this;return this.album&&this.album.tracks?this.album.tracks.map((function(e){return{track:e,album:t.toBasicAlbum(t.album)}})):[]}},{key:"basicAlbum",get:function(){return this.toBasicAlbum(this.album)}},{key:"albums",get:function(){var t=this;return this.album&&this.album.albums?this.album.albums.map((function(e){var a=t.toBasicAlbum(e);return a.path=t.album.parents?t.album.parents.map((function(t){return t.id})):[],a.path.push(e.id),a})):null}},{key:"totalDurationMinutes",get:function(){return this.album&&this.album.tracks?Math.ceil(this.album.tracks.reduce((function(t,e){return e.duration?t+e.duration:t}),0)/60):0}},{key:"showPlayAlbumButtonAsPause",get:function(){return!!this.anyAlbumSongIsCurrentlyNowPlaying()&&!this.paused()}},{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"paused",value:function(){return this.$store.getters.nowPlayingPaused}},{key:"anyAlbumSongIsCurrentlyNowPlaying",value:function(){if(!this.nowPlaying)return!1;var t,e=Object($e["a"])(this.album.tracks);try{for(e.s();!(t=e.n()).done;){var a=t.value;if(a.id===this.nowPlaying.track.id)return!0}}catch(n){e.e(n)}finally{e.f()}return!1}},{key:"load",value:function(){var t=this;this.clearTimeout();var e=this.getIdsFromRoute();this.apiService.browse(e).then((function(e){if(t.album=e.data,t.album.tracks){var a=t.album.tracks.find((function(t){return!t.duration}));a&&t.scheduleTimeout()}}),(function(e){403===e.response.status&&(t.forbidden=!0),M.pushError(t,"Could not list the tracks and albums.",e),t.scheduleTimeout()}))}},{key:"scheduleTimeout",value:function(){this.clearTimeout(),this.timeoutId=window.setTimeout(this.load,5e3)}},{key:"clearTimeout",value:function(){this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"getIdsFromRoute",value:function(){var t=this.$route.params;return t.pathMatch?t.pathMatch.split("/"):[]}},{key:"scrollContentToTop",value:function(){this.contentDiv.scrollTop=0}},{key:"toBasicAlbum",value:function(t){return{title:t.title,path:t.parents?t.parents.map((function(t){return t.id})):[],thumbnail:t.thumbnail}}},{key:"switchView",value:function(t){t!==Cn.Search&&(this.searchQuery=null),this.view=t}}]),a}(v["d"]);Object(h["a"])([Object(v["c"])("dropdown")],$n.prototype,"dropdown",void 0),Object(h["a"])([Object(v["c"])("content")],$n.prototype,"contentDiv",void 0),Object(h["a"])([Object(v["e"])("$route")],$n.prototype,"onRouteChanged",null),Object(h["a"])([Object(v["e"])("searchQuery")],$n.prototype,"onSearchQueryChanged",null),$n=Object(h["a"])([Object(v["a"])({components:{Albums:We,SubHeader:Ne,MainHeader:He,Tracks:Ca,Thumbnail:oe,NowPlaying:he,SearchInput:Ma,LoginButton:Ia,Spinner:Gt,Queue:On,Search:Sn,Dropdown:ra,DropdownElement:ba,DropdownDivider:ga}})],$n);var Tn=$n,In=Tn,An=(a("7445"),Object(F["a"])(In,xe,Se,!1,null,"9702f532",null)),En=An.exports,Dn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"initialize"},[a("main-header",{attrs:{text:"Create an administrator account"}}),a("div",{staticClass:"center"},[a("form",[a("form-input",{attrs:{type:"text",placeholder:"Username",icon:"fas fa-user"},on:{submit:t.submit},model:{value:t.cmd.username,callback:function(e){t.$set(t.cmd,"username",e)},expression:"cmd.username"}}),a("form-input",{attrs:{type:"password",placeholder:"Password",icon:"fas fa-key"},on:{submit:t.submit},model:{value:t.cmd.password,callback:function(e){t.$set(t.cmd,"password",e)},expression:"cmd.password"}}),a("app-button",{attrs:{text:"Proceed",disabled:!t.formValid,working:t.working},on:{click:t.submit}})],1)])],1)},Bn=[],Nn=(a("5319"),function t(){Object(o["a"])(this,t),Object(b["a"])(this,"username",void 0),Object(b["a"])(this,"password",void 0)}),Un=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"cmd",new Nn),Object(b["a"])(Object(u["a"])(t),"working",!1),Object(b["a"])(Object(u["a"])(t),"errLogin","Initial setup succeeded but the automatic login failed."),Object(b["a"])(Object(u["a"])(t),"errSetup","Error performing the initial setup."),Object(b["a"])(Object(u["a"])(t),"errCheckSetup","Could not confirm whether this instance's setup process was completed."),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"mounted",value:function(){this.redirectAwayIfNeeded()}},{key:"submit",value:function(){var t=this;this.formValid&&(this.working=!0,this.apiService.initialize(this.cmd).then((function(){var e={username:t.cmd.username,password:t.cmd.password};t.apiService.login(e).then((function(){t.working=!1,t.$router.replace({name:"browse"})}),(function(e){t.working=!1,M.pushError(t,t.errLogin,e)}))}),(function(e){t.working=!1,M.pushError(t,t.errSetup,e)})))}},{key:"formValid",get:function(){return!this.formErrors||0===this.formErrors.length}},{key:"formErrors",get:function(){var t=[];return this.cmd.username||t.push("Username can not be empty."),this.cmd.password||t.push("Password can not be empty."),t}},{key:"redirectAwayIfNeeded",value:function(){var t=this;this.apiService.stats().then((function(e){0!==e.data.users&&t.$router.replace({name:"browse"})}),(function(e){M.pushError(t,t.errCheckSetup,e)}))}}]),a}(v["d"]);Un=Object(h["a"])([Object(v["a"])({components:{MainHeader:He,SubHeader:Ne,FormInput:Ga,AppButton:tn}})],Un);var Mn=Un,Vn=Mn,Qn=(a("4890"),Object(F["a"])(Vn,Dn,Bn,!1,null,"704593ab",null)),qn=Qn.exports,Rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("action-bar",[a("action-bar-button",{attrs:{text:"Go back to the music",icon:"fas fa-arrow-left"},on:{click:t.goToBrowse}})],1),a("main-header",{attrs:{text:"Sign in"}}),a("div",{staticClass:"center"},[a("form",[a("form-input",{attrs:{type:"text",placeholder:"Username",icon:"fas fa-user"},on:{submit:t.submit},model:{value:t.cmd.username,callback:function(e){t.$set(t.cmd,"username",e)},expression:"cmd.username"}}),a("form-input",{attrs:{type:"password",placeholder:"Password",icon:"fas fa-key"},on:{submit:t.submit},model:{value:t.cmd.password,callback:function(e){t.$set(t.cmd,"password",e)},expression:"cmd.password"}}),a("app-button",{attrs:{text:"Sign in",disabled:!t.formValid,working:t.working},on:{click:t.submit}})],1)])],1)},Hn=[],zn=function t(){Object(o["a"])(this,t),Object(b["a"])(this,"username",void 0),Object(b["a"])(this,"password",void 0)},Ln=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"cmd",new zn),Object(b["a"])(Object(u["a"])(t),"working",!1),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"onUserChanged",value:function(t){t&&this.escapeToBrowse()}},{key:"submit",value:function(){var t=this;if(this.formValid){this.working=!0;var e=this.getNext();this.apiService.login(this.cmd).then((function(){e?t.$router.replace({path:e}):t.escapeToBrowse()}),(function(e){M.pushError(t,"Sign in process could not be completed.",e)})).finally((function(){t.working=!1}))}}},{key:"goToBrowse",value:function(){this.$router.push({name:"browse"})}},{key:"escapeToBrowse",value:function(){this.$router.replace({name:"browse"})}},{key:"formValid",get:function(){return!this.formErrors||0===this.formErrors.length}},{key:"formErrors",get:function(){var t=[];return this.cmd.username||t.push("Username can not be empty."),this.cmd.password||t.push("Password can not be empty."),t}},{key:"user",get:function(){return this.$store.state.user}},{key:"getNext",value:function(){var t=this.$route.query.next;return Array.isArray(t)?t.length>0?t[0]:null:t}}]),a}(v["d"]);Object(h["a"])([Object(v["e"])("user",{immediate:!0})],Ln.prototype,"onUserChanged",null),Ln=Object(h["a"])([Object(v["a"])({components:{MainHeader:He,FormInput:Ga,AppButton:tn,ActionBar:fn,ActionBarButton:cn}})],Ln);var Fn=Ln,Gn=Fn,Yn=(a("f475"),Object(F["a"])(Gn,Rn,Hn,!1,null,"42676704",null)),Kn=Yn.exports,Wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("action-bar",[a("action-bar-button",{attrs:{text:"Go back to the music",icon:"fas fa-arrow-left"},on:{click:t.goToBrowse}})],1),a("main-header",{attrs:{text:"Sign up"}}),a("div",{staticClass:"center"},[a("form",[a("form-input",{attrs:{type:"text",placeholder:"Username",icon:"fas fa-user"},on:{submit:t.submit},model:{value:t.cmd.username,callback:function(e){t.$set(t.cmd,"username",e)},expression:"cmd.username"}}),a("form-input",{attrs:{type:"password",placeholder:"Password",icon:"fas fa-key"},on:{submit:t.submit},model:{value:t.cmd.password,callback:function(e){t.$set(t.cmd,"password",e)},expression:"cmd.password"}}),a("app-button",{attrs:{text:"Sign up",disabled:!t.formValid,working:t.working},on:{click:t.submit}})],1)])],1)},Jn=[],Xn=function t(){Object(o["a"])(this,t),Object(b["a"])(this,"username",void 0),Object(b["a"])(this,"password",void 0),Object(b["a"])(this,"token",void 0)},Zn=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"cmd",new Xn),Object(b["a"])(Object(u["a"])(t),"working",!1),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),Object(b["a"])(Object(u["a"])(t),"errLogin","Sign up succeeded but the automatic login failed."),Object(b["a"])(Object(u["a"])(t),"errSignUp","Error during the sign up process."),t}return Object(c["a"])(a,[{key:"onUserChanged",value:function(t){t&&this.escapeToBrowse()}},{key:"submit",value:function(){var t=this;this.formValid&&(this.working=!0,this.cmd.token=this.$route.params.token,this.apiService.register(this.cmd).then((function(){var e={username:t.cmd.username,password:t.cmd.password};t.apiService.login(e).then((function(){t.working=!1,t.escapeToBrowse()}),(function(e){t.working=!1,M.pushError(t,t.errLogin,e)}))}),(function(e){t.working=!1,M.pushError(t,t.errSignUp,e)})))}},{key:"escapeToBrowse",value:function(){this.$router.replace({name:"browse"})}},{key:"goToBrowse",value:function(){this.$router.push({name:"browse"})}},{key:"formValid",get:function(){return!this.formErrors||0===this.formErrors.length}},{key:"formErrors",get:function(){var t=[];return this.cmd.username||t.push("Username can not be empty."),this.cmd.password||t.push("Password can not be empty."),t}}]),a}(v["d"]);Object(h["a"])([Object(v["e"])("user",{immediate:!0})],Zn.prototype,"onUserChanged",null),Zn=Object(h["a"])([Object(v["a"])({components:{MainHeader:He,SubHeader:Ne,FormInput:Ga,AppButton:tn,ActionBar:fn,ActionBarButton:cn}})],Zn);var ti=Zn,ei=ti,ai=(a("7cf3"),Object(F["a"])(ei,Wn,Jn,!1,null,"ce46a62c",null)),ni=ai.exports,ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings"},[a("action-bar",[a("action-bar-button",{attrs:{text:"Go back to the music",icon:"fas fa-arrow-left"},on:{click:t.goToBrowse}}),a("action-bar-button",{attrs:{text:"Sign me out",icon:"fas fa-sign-out-alt",working:t.logoutInProgress},on:{click:t.logout}}),a("action-bar-button",{attrs:{text:"Show me the statistics",icon:"fas fa-chart-pie"},on:{click:t.goToStats}})],1),a("main-header",{attrs:{text:"Settings"}}),a("sub-header",{attrs:{text:"Invitations"}}),t.user&&t.user.administrator?a("Invitations"):t._e(),a("sub-header",{attrs:{text:"Users"}}),t.user&&t.user.administrator?a("Users"):t._e(),a("sub-header",{attrs:{text:"Connected instances"}})],1)},ri=[],si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"users"},[a("table",[t._m(0),a("tbody",t._l(t.users,(function(e){return a("tr",{key:e.username,staticClass:"user"},[a("td",{staticClass:"username"},[t._v(" "+t._s(e.username)+" ")]),a("td",{staticClass:"role"},[t._v(" "+t._s(t.getRole(e))+" ")]),a("td",{staticClass:"created"},[a("timeago",{attrs:{datetime:e.created}})],1),a("td",{staticClass:"last-seen"},[a("timeago",{attrs:{datetime:e.lastSeen}})],1),a("td",{staticClass:"actions"},[a("v-popover",{attrs:{offset:"16"}},[t.canRemove(e)?a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Remove this user.",expression:"'Remove this user.'"}]},[a("i",{staticClass:"fas fa-times"})]):t._e(),a("template",{slot:"popover"},[a("p",[t._v(" This action can not be undone, do you wish to proceed? ")]),a("app-button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],attrs:{text:"Confirm"},on:{click:function(a){return t.removeUser(e)}}})],1)],2)],1)])})),0)]),t.users?t._e():a("spinner")],1)},oi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticClass:"username"},[t._v(" Username ")]),a("th",{staticClass:"role"},[t._v(" Role ")]),a("th",{staticClass:"created"},[t._v(" Signed Up ")]),a("th",{staticClass:"last-seen"},[t._v(" Last Seen ")]),a("th",{staticClass:"actions"},[t._v(" Actions ")])])}],ci=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"users",null),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"mounted",value:function(){this.load()}},{key:"getRole",value:function(t){return t.administrator?"Administrator":"User"}},{key:"canRemove",value:function(t){return t.username!==this.currentUser.username}},{key:"removeUser",value:function(t){var e=this;this.apiService.remove(t.username).then((function(){e.load()}),(function(a){M.pushError(e,"Could not remove the user '".concat(t.username,"'."),a)}))}},{key:"currentUser",get:function(){return this.$store.state.user}},{key:"load",value:function(){var t=this;this.users=null,this.apiService.list().then((function(e){t.users=e.data}),(function(e){M.pushError(t,"Could not list the user accounts.",e)}))}}]),a}(v["d"]);ci=Object(h["a"])([Object(v["a"])({components:{AppButton:tn,Spinner:Gt}})],ci);var ui=ci,li=ui,di=(a("d8b0"),Object(F["a"])(li,si,oi,!1,null,"4cfbd87b",null)),bi=di.exports,hi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invitations"},[a("app-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Create a link containing a one-time token allowing your friend to register an account.",expression:"'Create a link containing a one-time token allowing your friend to register an account.'"}],staticClass:"button",attrs:{text:"Create an invitation link",working:t.working},on:{click:t.createInvitation}}),t.invitationUrl?a("pre",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Click to copy.",expression:"'Click to copy.'"}],staticClass:"token",on:{click:t.copy}},[t._v(t._s(t.invitationUrl))]):t._e()],1)},vi=[],fi=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"working",!1),Object(b["a"])(Object(u["a"])(t),"token",null),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"createInvitation",value:function(){var t=this;this.working=!0,this.apiService.createInvitation().then((function(e){t.token=e.data.token}),(function(e){M.pushError(t,"Generating an invitation failed.",e)})).finally((function(){return t.working=!1}))}},{key:"copy",value:function(){var t=this;navigator.clipboard?navigator.clipboard.writeText(this.invitationUrl).then((function(){M.pushSuccess(t,"The invitation link has been copied.")}),(function(){M.pushError(t,"Copying to clipboard failed.")})):M.pushError(this,"\n                The Clipboard API is not available.\n                Please note that the Clipboard API is only available in secure\n                contexts (websites secured with TLS).\n            ")}},{key:"invitationUrl",get:function(){if(!this.token)return null;var t=window.location;return"".concat(t.protocol,"//").concat(t.host,"/register/").concat(this.token)}}]),a}(v["d"]);fi=Object(h["a"])([Object(v["a"])({components:{AppButton:tn}})],fi);var pi=fi,mi=pi,yi=(a("487b"),Object(F["a"])(mi,hi,vi,!1,null,"0e3e2fb1",null)),gi=yi.exports,Oi=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"logoutInProgress",!1),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"onUserChanged",value:function(t){null===t&&this.escapeToBrowse()}},{key:"escapeToBrowse",value:function(){this.$router.replace({name:"browse"})}},{key:"goToBrowse",value:function(){this.$router.push({name:"browse"})}},{key:"goToStats",value:function(){this.$router.push({name:"stats"})}},{key:"logout",value:function(){var t=this;this.logoutInProgress=!0,this.apiService.logout().then((function(){t.escapeToBrowse()}),(function(e){M.pushError(t,"There was an error during the sign out process.",e)})).finally((function(){return t.logoutInProgress=!1}))}},{key:"user",get:function(){return this.$store.state.user}}]),a}(v["d"]);Object(h["a"])([Object(v["e"])("user",{immediate:!0})],Oi.prototype,"onUserChanged",null),Oi=Object(h["a"])([Object(v["a"])({components:{MainHeader:He,SubHeader:Ne,FormInput:Ga,AppButton:tn,ActionBar:fn,ActionBarButton:cn,Users:bi,Invitations:gi}})],Oi);var ji=Oi,ki=ji,wi=(a("1d808"),Object(F["a"])(ki,ii,ri,!1,null,"80ddf112",null)),Ci=wi.exports,_i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stats"},[a("action-bar",[a("action-bar-button",{attrs:{text:"Go back to settings",icon:"fas fa-arrow-left"},on:{click:t.goToSettings}})],1),a("main-header",{attrs:{text:"Statistics"}}),t.stats?t._e():a("spinner",{staticClass:"spinner"}),t.stats?a("div",[a("sub-header",{attrs:{text:"Tracks"}}),a("store-stats",{attrs:{stats:t.stats.tracks}}),a("sub-header",{attrs:{text:"Thumbnails"}}),a("store-stats",{attrs:{stats:t.stats.thumbnails}})],1):t._e()],1)},Pi=[],xi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"store-stats"},[a("div",[a("div",{staticClass:"label"},[t._v(" Number of items ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.stats.allItems)+" ")])]),a("div",[a("div",{staticClass:"label"},[t._v(" Conversion progress ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.conversionProgress)+" ")])]),a("div",[a("div",{staticClass:"label"},[t._v(" Original size ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.originalSize)+" ")])]),a("div",[a("div",{staticClass:"label"},[t._v(" Converted size ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.convertedSize)+" ")])]),a("div",[a("div",{staticClass:"label"},[t._v(" Conversion ratio ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.conversionRatio)+" ")])])])},Si=[],$i=a("cee5"),Ti=a.n($i),Ii=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"stats",void 0),t}return Object(c["a"])(a,[{key:"conversionProgress",get:function(){if(0===this.stats.allItems)return"100%";var t=this.stats.convertedItems/this.stats.allItems;return Math.round(100*t)+"%"}},{key:"originalSize",get:function(){return this.humanize(this.stats.originalSize)}},{key:"convertedSize",get:function(){return this.humanize(this.stats.convertedSize)}},{key:"conversionRatio",get:function(){if(0===this.stats.originalSize)return"100%";var t=this.stats.convertedSize/this.stats.originalSize;return Math.round(100*t)+"%"}},{key:"humanize",value:function(t){var e={round:2,base:10};return Ti()(t,e)}}]),a}(v["d"]);Object(h["a"])([Object(v["b"])()],Ii.prototype,"stats",void 0),Ii=Object(h["a"])([v["a"]],Ii);var Ai=Ii,Ei=Ai,Di=(a("2885"),Object(F["a"])(Ei,xi,Si,!1,null,"2349ffd8",null)),Bi=Di.exports,Ni=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),Object(b["a"])(Object(u["a"])(t),"stats",null),Object(b["a"])(Object(u["a"])(t),"timeoutID",void 0),Object(b["a"])(Object(u["a"])(t),"apiService",new E(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"mounted",value:function(){this.load()}},{key:"destroyed",value:function(){window.clearTimeout(this.timeoutID)}},{key:"goToSettings",value:function(){this.$router.push({name:"settings"})}},{key:"load",value:function(){var t=this;this.apiService.stats().then((function(e){t.stats=e.data}),(function(e){M.pushError(t,"Could not retrieve the statistics.",e)})).finally((function(){t.timeoutID=window.setTimeout(t.load,1e4)}))}}]),a}(v["d"]);Ni=Object(h["a"])([Object(v["a"])({components:{MainHeader:He,SubHeader:Ne,ActionBar:fn,ActionBarButton:cn,Spinner:Gt,StoreStats:Bi}})],Ni);var Ui=Ni,Mi=Ui,Vi=(a("6626"),Object(F["a"])(Mi,_i,Pi,!1,null,"413fb986",null)),Qi=Vi.exports;i["a"].use(Pe["a"]);var qi=new Pe["a"]({mode:"history",base:"/",routes:[{path:"/browse/*",name:"browse-children",component:En},{path:"/browse",name:"browse",component:En},{path:"/setup",name:"setup",component:qn},{path:"/settings",name:"settings",component:Ci},{path:"/stats",name:"stats",component:Qi},{path:"/login",name:"login",component:Kn},{path:"/register/:token",name:"register",component:ni},{path:"*",redirect:"browse"}]}),Ri=a("e37d"),Hi=a("8682");i["a"].use(Ri["a"]),i["a"].use(Hi["a"],{}),i["a"].config.productionTip=!1,new i["a"]({router:qi,store:g,render:function(t){return t(_e)}}).$mount("#app")},cf8f:function(t,e,a){},d25b:function(t,e,a){},d3ee:function(t,e,a){},d8b0:function(t,e,a){"use strict";a("1d00")},d969:function(t,e,a){},db83:function(t,e,a){"use strict";a("ddf4")},ddf4:function(t,e,a){},e7d8:function(t,e,a){},e7df:function(t,e,a){},e951:function(t,e,a){"use strict";a("d969")},eaaa:function(t,e,a){},eaaaa:function(t,e,a){"use strict";a("fce8")},ec2d:function(t,e,a){},ee62:function(t,e,a){"use strict";a("7181")},eee0:function(t,e,a){},f132:function(t,e,a){"use strict";a("9844")},f475:function(t,e,a){"use strict";a("518d")},f567:function(t,e,a){},fb32:function(t,e,a){},fce8:function(t,e,a){},fd9b:function(t,e,a){"use strict";a("18c9")}});