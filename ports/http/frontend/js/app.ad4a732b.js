(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],b=0,f=[];b<o.length;b++)r=o[b],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"0155":function(t,e,a){"use strict";a("2b1d")},"02b4":function(t,e,a){"use strict";a("7b50")},"0883":function(t,e,a){},"0ab0":function(t,e,a){},1136:function(t,e,a){},1459:function(t,e,a){"use strict";a("2bbf")},"152f":function(t,e,a){},"16c3":function(t,e,a){},"18c9":function(t,e,a){"use strict";a("f44b")},"1c63":function(t,e,a){},"1fd9":function(t,e,a){},"22c1":function(t,e,a){"use strict";a("16c3")},2539:function(t,e,a){"use strict";a("b9f6")},"2b1d":function(t,e,a){},"2b59":function(t,e,a){"use strict";a("fb53")},"2bbf":function(t,e,a){},"2dc4":function(t,e,a){},"34cb":function(t,e,a){},3870:function(t,e,a){"use strict";a("3fd0")},"3fd0":function(t,e,a){},4038:function(t,e,a){},"45cf":function(t,e,a){},"463f":function(t,e,a){"use strict";a("eea7")},"48b1":function(t,e,a){},"4d04":function(t,e,a){"use strict";a("b9b9")},5196:function(t,e,a){"use strict";a("5c3d")},"52b5":function(t,e,a){"use strict";a("2dc4")},"56fb":function(t,e,a){"use strict";a("b270")},5744:function(t,e,a){},"5c3d":function(t,e,a){},"5ce6":function(t,e,a){"use strict";a("f6fd")},"62f4":function(t,e,a){},"6ee9":function(t,e,a){"use strict";a("9fe4")},"710e":function(t,e,a){},"7b50":function(t,e,a){},8002:function(t,e,a){"use strict";a("5744")},"82a9":function(t,e,a){"use strict";a("a744")},"8f22":function(t,e,a){"use strict";a("48b1")},9839:function(t,e,a){"use strict";a("cb33")},"9b1f":function(t,e,a){"use strict";a("152f")},"9c21":function(t,e,a){"use strict";a("a9f4")},"9fe4":function(t,e,a){},a09e:function(t,e,a){"use strict";a("ec46")},a744:function(t,e,a){},a9f4:function(t,e,a){},acf4:function(t,e,a){},b01f:function(t,e,a){"use strict";a("0883")},b270:function(t,e,a){},b868:function(t,e,a){"use strict";a("fcb3")},b9b9:function(t,e,a){},b9f6:function(t,e,a){},bcd3:function(t,e,a){"use strict";a("34cb")},c9c6:function(t,e,a){"use strict";a("1c63")},cb33:function(t,e,a){},cbc3:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,i=a("2b0e"),s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:{csd:t.isCsd},attrs:{id:"app"}},[e("div",{staticClass:"content"},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"container"},[e("router-view")],1)])]),e("div",{staticClass:"now-playing"},[e("now-playing")],1),e("div",{staticClass:"controls"},[e("controls",{attrs:{playbackData:t.playbackData}})],1),e("player",{on:{"playback-data":function(e){return t.onPlaybackData(e)}}}),e("notifications",{staticClass:"notifications"}),e("media-session")],1)},r=[],o=a("d4ec"),c=a("bee2"),u=a("257e"),l=a("262e"),b=a("2caf"),f=a("ade3"),d=(a("99af"),a("14d9"),a("9ab4")),h=a("60a3"),v=(a("d3b7"),a("ddb0"),a("a434"),a("2f62")),p=a("bfa9");i["a"].use(v["a"]);var m,y=new p["a"]({storage:window.localStorage,reducer:function(t){return{volume:t.volume,muted:t.muted,shuffle:t.shuffle}}});(function(t){t["Replace"]="replace",t["Append"]="append",t["Remove"]="remove",t["Play"]="play",t["Pause"]="pause",t["Previous"]="previous",t["Next"]="next",t["SetVolume"]="setVolume",t["Mute"]="mute",t["Unmute"]="unmute",t["Shuffle"]="shuffle",t["NoShuffle"]="noShuffle",t["SetUser"]="setUser"})(m||(m={}));var O=new v["a"].Store({state:{entries:[],playingIndex:null,paused:!0,volume:.5,muted:!1,shuffle:!1,user:void 0},mutations:(n={},Object(f["a"])(n,m.Replace,(function(t,e){t.entries=e.entries,e.playingIndex<0?t.playingIndex=0:e.playingIndex>e.entries.length-1?t.playingIndex=e.entries.length-1:t.playingIndex=e.playingIndex})),Object(f["a"])(n,m.Append,(function(t,e){t.entries=t.entries.concat(e.entries),void 0!==t.playingIndex&&null!==t.playingIndex||(t.playingIndex=0)})),Object(f["a"])(n,m.Remove,(function(t,e){var a=t.entries.indexOf(e.entry);a>=0&&(t.entries.splice(a,1),t.playingIndex>a&&(t.playingIndex-=1)),t.entries.length>0?t.playingIndex>t.entries.length-1&&(t.playingIndex=t.entries.length-1):t.playingIndex=void 0})),Object(f["a"])(n,m.Play,(function(t){g(t.entries)||(t.paused=!1)})),Object(f["a"])(n,m.Pause,(function(t){t.paused=!0})),Object(f["a"])(n,m.Previous,(function(t){if(!g(t.entries))if(t.shuffle&&t.entries.length>1){var e=t.playingIndex;while(t.playingIndex===e)t.playingIndex=k(0,t.entries.length)}else t.playingIndex-=1,t.playingIndex<0&&(t.playingIndex=t.entries.length-1)})),Object(f["a"])(n,m.Next,(function(t){if(!g(t.entries))if(t.shuffle&&t.entries.length>1){var e=t.playingIndex;while(t.playingIndex===e)t.playingIndex=k(0,t.entries.length)}else t.playingIndex+=1,t.playingIndex>t.entries.length-1&&(t.playingIndex=0)})),Object(f["a"])(n,m.SetVolume,(function(t,e){t.volume=e.volume,t.volume<0&&(t.volume=0),t.volume>1&&(t.volume=1),t.muted=0===t.volume})),Object(f["a"])(n,m.Mute,(function(t){t.muted=!0})),Object(f["a"])(n,m.Unmute,(function(t){t.muted=!1})),Object(f["a"])(n,m.Shuffle,(function(t){t.shuffle=!0})),Object(f["a"])(n,m.NoShuffle,(function(t){t.shuffle=!1})),Object(f["a"])(n,m.SetUser,(function(t,e){t.user=e})),n),getters:{nowPlaying:function(t){return j(t)},nowPlayingPaused:function(t){return t.paused||!j(t)},volume:function(t){return t.muted?0:t.volume}},plugins:[y.plugin]});function j(t){return g(t.entries)?null:t.entries[t.playingIndex]}function g(t){return!t||0===t.length}function k(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}a("a15b");var w,_,C=a("bc3a"),P=a.n(C),x=a("a78e"),S=a.n(x),T="auth-token",$=function(){function t(){Object(o["a"])(this,t)}return Object(c["a"])(t,[{key:"storeToken",value:function(t){S.a.set(T,t)}},{key:"clearToken",value:function(){S.a.remove(T)}},{key:"getToken",value:function(){return S.a.get(T)}}]),t}(),A="Access-Token",I=function(){function t(e){var a=this;Object(o["a"])(this,t),Object(f["a"])(this,"vue",void 0),Object(f["a"])(this,"axios",P.a.create()),Object(f["a"])(this,"authService",new $),this.vue=e,this.axios.interceptors.request.use((function(t){var e=a.authService.getToken();return e&&(t.headers[A]=e),t}),(function(t){return Promise.reject(t)})),this.axios.interceptors.response.use((function(t){return t}),(function(t){return t.response&&401===t.response.status&&(a.authService.clearToken(),a.vue.$store.commit(m.SetUser,null)),Promise.reject(t)}))}return Object(c["a"])(t,[{key:"browse",value:function(t){var e=t.join("/"),a="browse/".concat(e);return this.axios.get("/api/"+a)}},{key:"search",value:function(t){var e="search";return this.axios.get("/api/"+e,{params:{query:t}})}},{key:"stats",value:function(){var t="stats";return this.axios.get("/api/"+t)}},{key:"trackUrl",value:function(t){var e="track/".concat(t.fileId);return"/api/"+e}},{key:"thumbnailUrl",value:function(t){var e="thumbnail/".concat(t.fileId);return"/api/"+e}},{key:"initialize",value:function(t){var e="auth/register-initial";return this.axios.post("/api/"+e,t)}},{key:"login",value:function(t){var e=this,a="auth/login";return new Promise((function(n,i){e.axios.post("/api/"+a,t).then((function(t){e.authService.storeToken(t.data.token),e.refreshCurrentUser().then((function(){n()}),(function(t){i(t)}))}),(function(t){i(t)}))}))}},{key:"logout",value:function(){var t=this,e="auth/logout";return new Promise((function(a,n){t.axios.post("/api/"+e).then((function(){t.authService.clearToken(),t.vue.$store.commit(m.SetUser,null),a()}),(function(t){n(t)}))}))}},{key:"refreshCurrentUser",value:function(){var t=this,e="auth";return new Promise((function(a,n){t.axios.get("/api/"+e).then((function(e){t.vue.$store.commit(m.SetUser,e.data),a(e.data)}),(function(t){t.response&&401===t.response.status?a(null):n(t)}))}))}},{key:"register",value:function(t){var e="auth/register";return this.axios.post("/api/"+e,t)}},{key:"list",value:function(){var t="auth/users";return this.axios.get("/api/"+t)}},{key:"createInvitation",value:function(){var t="auth/create-invitation";return this.axios.post("/api/"+t)}},{key:"remove",value:function(t){t=encodeURIComponent(t);var e="auth/users/".concat(t,"/remove");return this.axios.post("/api/"+e)}}]),t}(),D=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"controls"},[e("div",{staticClass:"core"},[e("div",{staticClass:"shuffle"},[e("indicator",{attrs:{state:t.shuffle}},[e("a",{on:{click:function(e){return t.onShuffle()}}},[e("i",{staticClass:"fas fa-random"})])])],1),e("div",{staticClass:"previous"},[e("a",{on:{click:function(e){return t.onPrevious()}}},[e("i",{staticClass:"fas fa-backward"})])]),e("div",{staticClass:"play"},[e("a",{on:{click:function(e){return t.onPlayPause()}}},[e("indicator",{attrs:{state:!t.paused,width:15}},[t._v(" Play ")])],1)]),e("div",{staticClass:"next"},[e("a",{on:{click:function(e){return t.onNext()}}},[e("i",{staticClass:"fas fa-forward"})])]),e("div",{staticClass:"volume"},[e("Volume")],1)]),e("div",{staticClass:"progress"},[e("div",{staticClass:"current"},[t._v(" "+t._s(t.currentTime)+" ")]),e("div",{staticClass:"bar"},[e("progress-bar",{attrs:{value:t.currentTimePercentage},on:{"value-selected":t.seek}})],1),e("div",{staticClass:"duration"},[t._v(" "+t._s(t.duration)+" ")])])])},B=[],N=(a("25f0"),function(){function t(){Object(o["a"])(this,t)}return Object(c["a"])(t,[{key:"formatTime",value:function(t){var e=Math.floor(t/3600),a=Math.floor(t%3600/60),n=Math.floor(t%60);return e?"".concat(e,":").concat(this.pad(a,2),":").concat(this.pad(n,2)):"".concat(a,":").concat(this.pad(n,2))}},{key:"pad",value:function(t,e){var a=t.toString();while(a.length<e)a="0"+a;return a}}]),t}()),U=(a("4de4"),w=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"notifications",[]),Object(f["a"])(Object(u["a"])(t),"intervalID",void 0),t}return Object(c["a"])(a,[{key:"mounted",value:function(){var t=this;this.$root.$on(_.notificationEvent,(function(e){t.notifications.splice(0,0,e)})),this.intervalID=window.setInterval(this.processErrors,100)}},{key:"destroyed",value:function(){window.clearInterval(this.intervalID)}},{key:"shouldHide",value:function(t){var e=this.duration(new Date,t.created);return e>_.visibilityDuration}},{key:"processErrors",value:function(){var t=this;this.notifications=this.notifications.filter((function(e){var a=t.duration(new Date,e.created);return a<_.visibilityDuration+_.animationDuration}))}},{key:"duration",value:function(t,e){return(t.getTime()-e.getTime())/1e3}}],[{key:"pushError",value:function(t,e,a){var n=a&&a.response&&a.response.data&&a.response.data.message?a.response.data.message:null,i={id:this.notificationId++,class:"error",created:new Date,text:e,extra:n};t.$root.$emit(this.notificationEvent,i)}},{key:"pushSuccess",value:function(t,e){var a={id:this.notificationId++,class:"success",created:new Date,text:e,extra:null};t.$root.$emit(this.notificationEvent,a)}}]),a}(h["d"]),Object(f["a"])(w,"notificationEvent","eggplant_notification"),Object(f["a"])(w,"notificationId",0),Object(f["a"])(w,"visibilityDuration",10),Object(f["a"])(w,"animationDuration",2),_=w);U=_=Object(d["a"])([h["a"]],U);var M=U,E="seek",V=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"intervalID",void 0),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),Object(f["a"])(Object(u["a"])(t),"currentNowPlaying",null),t}return Object(c["a"])(a,[{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"paused",get:function(){return this.$store.state.paused}},{key:"nowPlayingUrl",get:function(){var t=this.nowPlaying;return t?this.apiService.trackUrl(t.track):null}},{key:"audio",get:function(){return this.$refs.audio}},{key:"volume",get:function(){return this.$store.getters.volume}},{key:"onNowPlayingChanged",value:function(){if(!this.nowPlaying)return this.currentNowPlaying=null,void this.pause();this.currentNowPlaying&&this.currentNowPlaying===this.nowPlaying||(this.currentNowPlaying=this.nowPlaying,this.audio.src=this.nowPlayingUrl,this.play())}},{key:"onPausedChanged",value:function(t){t?this.audio.pause():this.audio.play()}},{key:"onVolumeChanged",value:function(t){this.audio.volume=t}},{key:"created",value:function(){this.intervalID=window.setInterval(this.emitValues,100)}},{key:"mounted",value:function(){var t=this;this.audio.volume=this.volume,this.$root.$on(E,(function(e){t.nowPlaying&&(t.audio.currentTime=t.audio.duration*e)}))}},{key:"destroyed",value:function(){window.clearInterval(this.intervalID)}},{key:"onEnded",value:function(){this.currentNowPlaying=null,this.$store.commit(m.Next)}},{key:"onError",value:function(){M.pushError(this,'Could not play "'.concat(this.nowPlaying.track.title,'".')),this.$store.commit(m.Next)}},{key:"onPlay",value:function(){this.$store.commit(m.Play)}},{key:"onPause",value:function(){this.$store.commit(m.Pause)}},{key:"emitValues",value:function(){if(this.audio){var t={currentTime:this.audio.currentTime,duration:this.audio.duration};this.$emit("playback-data",t)}}},{key:"play",value:function(){this.$store.commit(m.Play),this.audio.play()}},{key:"pause",value:function(){this.$store.commit(m.Pause),this.audio.pause()}}]),a}(h["d"]);Object(d["a"])([Object(h["e"])("nowPlaying")],V.prototype,"onNowPlayingChanged",null),Object(d["a"])([Object(h["e"])("paused")],V.prototype,"onPausedChanged",null),Object(d["a"])([Object(h["e"])("volume")],V.prototype,"onVolumeChanged",null),V=Object(d["a"])([Object(h["a"])({components:{}})],V);var Q=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{ref:"progress-bar",staticClass:"progress-bar",on:{click:t.onClick,mousemove:t.onMouseMove,mousedown:t.onMouseDown,mouseup:t.onMouseUp,mouseleave:t.onMouseLeave}},[e("div",{staticClass:"bar"},[e("div",{staticClass:"filled-in",style:{width:t.percentage}})])])},q=[],R=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"value",void 0),Object(f["a"])(Object(u["a"])(t),"progressBar",void 0),Object(f["a"])(Object(u["a"])(t),"mouseDown",!1),t}return Object(c["a"])(a,[{key:"percentage",get:function(){return this.value?100*this.value+"%":"0%"}},{key:"onClick",value:function(t){this.emitValue(t)}},{key:"onMouseMove",value:function(t){this.mouseDown&&this.emitValue(t)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseLeave",value:function(){this.mouseDown=!1}},{key:"emitValue",value:function(t){var e=this.getValue(t);this.$emit("value-selected",e)}},{key:"getValue",value:function(t){var e=this.progressBar.getBoundingClientRect(),a=t.clientX-e.left;return this.clamp(a/e.width)}},{key:"clamp",value:function(t){return t>1?1:t<0?0:t}}]),a}(h["d"]);Object(d["a"])([Object(h["b"])()],R.prototype,"value",void 0),Object(d["a"])([Object(h["c"])("progress-bar")],R.prototype,"progressBar",void 0),R=Object(d["a"])([h["a"]],R);var H=R,z=H,L=(a("2b59"),a("2877")),F=Object(L["a"])(z,Q,q,!1,null,"345f1884",null),G=F.exports,Y=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"volume"},[e("a",{staticClass:"button",on:{click:function(e){return t.toggleMute()}}},[t.muted?t._e():e("i",{staticClass:"fas fa-volume-up"}),t.muted?e("i",{staticClass:"fas fa-volume-mute"}):t._e()]),e("div",{staticClass:"bar"},[e("VerticalProgressBar",{attrs:{value:t.volume},on:{"value-selected":t.changeVolume}})],1)])},K=[],W=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{ref:"progress-bar",staticClass:"vertical-progress-bar",on:{click:t.onClick,mousemove:t.onMouseMove,mousedown:t.onMouseDown,mouseup:t.onMouseUp,mouseleave:t.onMouseLeave}},[e("div",{staticClass:"bar"},[e("div",{staticClass:"filled-in",style:{height:t.percentage}})])])},J=[],X=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"value",void 0),Object(f["a"])(Object(u["a"])(t),"progressBar",void 0),Object(f["a"])(Object(u["a"])(t),"mouseDown",!1),t}return Object(c["a"])(a,[{key:"percentage",get:function(){return this.value?100*this.value+"%":"0%"}},{key:"onClick",value:function(t){this.emitValue(t)}},{key:"onMouseMove",value:function(t){this.mouseDown&&this.emitValue(t)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseLeave",value:function(){this.mouseDown=!1}},{key:"emitValue",value:function(t){var e=this.getValue(t);this.$emit("value-selected",e)}},{key:"getValue",value:function(t){var e=this.progressBar.getBoundingClientRect(),a=t.clientY-e.top;return this.clamp(1-a/e.height)}},{key:"clamp",value:function(t){return t>1?1:t<0?0:t}}]),a}(h["d"]);Object(d["a"])([Object(h["b"])()],X.prototype,"value",void 0),Object(d["a"])([Object(h["c"])("progress-bar")],X.prototype,"progressBar",void 0),X=Object(d["a"])([h["a"]],X);var Z=X,tt=Z,et=(a("bcd3"),Object(L["a"])(tt,W,J,!1,null,"37fb6a78",null)),at=et.exports,nt=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"volume",get:function(){return this.$store.getters.volume}},{key:"muted",get:function(){return this.$store.state.muted}},{key:"toggleMute",value:function(){this.$store.state.muted?this.$store.commit(m.Unmute):this.$store.commit(m.Mute)}},{key:"changeVolume",value:function(t){var e={volume:t};this.$store.commit(m.SetVolume,e)}}]),a}(h["d"]);nt=Object(d["a"])([Object(h["a"])({components:{VerticalProgressBar:at}})],nt);var it=nt,st=it,rt=(a("cfd8"),Object(L["a"])(st,Y,K,!1,null,"19d054ae",null)),ot=rt.exports,ct=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"indicator"},[e("div",{staticClass:"bar",class:{enabled:t.state},style:{width:t.barWidth}}),e("div",{staticClass:"content"},[t._t("default")],2)])},ut=[],lt=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"state",void 0),Object(f["a"])(Object(u["a"])(t),"width",void 0),Object(f["a"])(Object(u["a"])(t),"baseWidth",4),t}return Object(c["a"])(a,[{key:"barWidth",get:function(){return"".concat(this.baseWidth+this.width,"px")}}]),a}(h["d"]);Object(d["a"])([Object(h["b"])({default:!1})],lt.prototype,"state",void 0),Object(d["a"])([Object(h["b"])({default:0})],lt.prototype,"width",void 0),lt=Object(d["a"])([h["a"]],lt);var bt=lt,ft=bt,dt=(a("56fb"),Object(L["a"])(ft,ct,ut,!1,null,"5752ccbc",null)),ht=dt.exports,vt=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"playbackData",void 0),Object(f["a"])(Object(u["a"])(t),"textService",new N),t}return Object(c["a"])(a,[{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"currentTime",get:function(){return this.nowPlaying&&this.playbackData&&this.playbackData.currentTime?this.textService.formatTime(this.playbackData.currentTime):null}},{key:"duration",get:function(){return this.nowPlaying&&this.playbackData&&this.playbackData.duration?this.textService.formatTime(this.playbackData.duration):null}},{key:"currentTimePercentage",get:function(){return this.playbackData&&this.playbackData.currentTime&&this.playbackData.duration?this.playbackData.currentTime/this.playbackData.duration:0}},{key:"paused",get:function(){return this.$store.getters.nowPlayingPaused}},{key:"shuffle",get:function(){return this.$store.state.shuffle}},{key:"onPlayPause",value:function(){this.paused?this.$store.commit(m.Play):this.$store.commit(m.Pause)}},{key:"onShuffle",value:function(){this.shuffle?this.$store.commit(m.NoShuffle):this.$store.commit(m.Shuffle)}},{key:"onPrevious",value:function(){this.$store.commit(m.Previous)}},{key:"onNext",value:function(){this.$store.commit(m.Next)}},{key:"seek",value:function(t){this.$root.$emit(E,t)}}]),a}(h["d"]);Object(d["a"])([Object(h["b"])()],vt.prototype,"playbackData",void 0),vt=Object(d["a"])([Object(h["a"])({components:{ProgressBar:G,Volume:ot,Indicator:ht}})],vt);var pt=vt,mt=pt,yt=(a("fc28"),Object(L["a"])(mt,D,B,!1,null,"f4cdfada",null)),Ot=yt.exports,jt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"player"},[e("audio",{ref:"audio",attrs:{controls:""},on:{ended:t.onEnded,error:t.onError,play:t.onPlay,pause:t.onPause}})])},gt=[],kt="seek",wt=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"intervalID",void 0),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),Object(f["a"])(Object(u["a"])(t),"currentNowPlaying",null),t}return Object(c["a"])(a,[{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"paused",get:function(){return this.$store.state.paused}},{key:"nowPlayingUrl",get:function(){var t=this.nowPlaying;return t?this.apiService.trackUrl(t.track):null}},{key:"audio",get:function(){return this.$refs.audio}},{key:"volume",get:function(){return this.$store.getters.volume}},{key:"onNowPlayingChanged",value:function(){if(!this.nowPlaying)return this.currentNowPlaying=null,void this.pause();this.currentNowPlaying&&this.currentNowPlaying===this.nowPlaying||(this.currentNowPlaying=this.nowPlaying,this.audio.src=this.nowPlayingUrl,this.play())}},{key:"onPausedChanged",value:function(t){t?this.audio.pause():this.audio.play()}},{key:"onVolumeChanged",value:function(t){this.audio.volume=t}},{key:"created",value:function(){this.intervalID=window.setInterval(this.emitValues,100)}},{key:"mounted",value:function(){var t=this;this.audio.volume=this.volume,this.$root.$on(kt,(function(e){t.nowPlaying&&(t.audio.currentTime=t.audio.duration*e)}))}},{key:"destroyed",value:function(){window.clearInterval(this.intervalID)}},{key:"onEnded",value:function(){this.currentNowPlaying=null,this.$store.commit(m.Next)}},{key:"onError",value:function(){M.pushError(this,'Could not play "'.concat(this.nowPlaying.track.title,'".')),this.$store.commit(m.Next)}},{key:"onPlay",value:function(){this.$store.commit(m.Play)}},{key:"onPause",value:function(){this.$store.commit(m.Pause)}},{key:"emitValues",value:function(){if(this.audio){var t={currentTime:this.audio.currentTime,duration:this.audio.duration};this.$emit("playback-data",t)}}},{key:"play",value:function(){this.$store.commit(m.Play),this.audio.play()}},{key:"pause",value:function(){this.$store.commit(m.Pause),this.audio.pause()}}]),a}(h["d"]);Object(d["a"])([Object(h["e"])("nowPlaying")],wt.prototype,"onNowPlayingChanged",null),Object(d["a"])([Object(h["e"])("paused")],wt.prototype,"onPausedChanged",null),Object(d["a"])([Object(h["e"])("volume")],wt.prototype,"onVolumeChanged",null),wt=Object(d["a"])([Object(h["a"])({components:{}})],wt);var _t,Ct,Pt=wt,xt=Pt,St=(a("02b4"),Object(L["a"])(xt,jt,gt,!1,null,"14454b50",null)),Tt=St.exports,$t=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("ul",{staticClass:"notifications"},t._l(t.notifications,(function(a){return e("li",{key:a.id,staticClass:"notification",class:[a.class,t.shouldHide(a)?"hide":""]},[e("div",{staticClass:"text"},[t._v(" "+t._s(a.text)+" ")]),a.extra?e("div",{staticClass:"extra"},[t._v(" "+t._s(a.extra)+" ")]):t._e()])})),0)},At=[],It=(_t=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"notifications",[]),Object(f["a"])(Object(u["a"])(t),"intervalID",void 0),t}return Object(c["a"])(a,[{key:"mounted",value:function(){var t=this;this.$root.$on(Ct.notificationEvent,(function(e){t.notifications.splice(0,0,e)})),this.intervalID=window.setInterval(this.processErrors,100)}},{key:"destroyed",value:function(){window.clearInterval(this.intervalID)}},{key:"shouldHide",value:function(t){var e=this.duration(new Date,t.created);return e>Ct.visibilityDuration}},{key:"processErrors",value:function(){var t=this;this.notifications=this.notifications.filter((function(e){var a=t.duration(new Date,e.created);return a<Ct.visibilityDuration+Ct.animationDuration}))}},{key:"duration",value:function(t,e){return(t.getTime()-e.getTime())/1e3}}],[{key:"pushError",value:function(t,e,a){var n=a&&a.response&&a.response.data&&a.response.data.message?a.response.data.message:null,i={id:this.notificationId++,class:"error",created:new Date,text:e,extra:n};t.$root.$emit(this.notificationEvent,i)}},{key:"pushSuccess",value:function(t,e){var a={id:this.notificationId++,class:"success",created:new Date,text:e,extra:null};t.$root.$emit(this.notificationEvent,a)}}]),a}(h["d"]),Object(f["a"])(_t,"notificationEvent","eggplant_notification"),Object(f["a"])(_t,"notificationId",0),Object(f["a"])(_t,"visibilityDuration",10),Object(f["a"])(_t,"animationDuration",2),Ct=_t);It=Ct=Object(d["a"])([h["a"]],It);var Dt=It,Bt=Dt,Nt=(a("3870"),Object(L["a"])(Bt,$t,At,!1,null,"fa2d66b2",null)),Ut=Nt.exports,Mt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"now-playing",class:{hidden:!t.nowPlaying}},[t.nowPlaying?e("div",{staticClass:"trackTitle"},[e("a",{on:{click:function(e){return t.goToNowPlayingSong()}}},[t._v(" "+t._s(t.trackTitle)+" ")])]):t._e(),t.nowPlaying?e("div",{staticClass:"albumTitle"},[e("a",{on:{click:function(e){return t.goToNowPlayingAlbum()}}},[t._v(" "+t._s(t.albumTitle)+" ")])]):t._e()])},Et=[],Vt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"thumbnail"},[t.album.thumbnail?e("div",{staticClass:"artwork"},[e("img",{ref:"image",attrs:{src:t.thumbnailUrl},on:{error:t.onError,load:t.onLoad}}),t.converting?e("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This thumbnail has not been converted yet.",expression:"'This thumbnail has not been converted yet.'"}],staticClass:"spinner-container"},[e("spinner")],1):t._e()]):t._e(),t.album.thumbnail?t._e():e("div",{staticClass:"icon"},[e("i",{staticClass:"fas fa-compact-disc"})])])},Qt=[],qt=function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)},Rt=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"spinner"},[e("i",{staticClass:"fas fa-circle-notch fa-spin"})])}],Ht=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a)}(h["d"]);Ht=Object(d["a"])([h["a"]],Ht);var zt=Ht,Lt=zt,Ft=(a("a09e"),Object(L["a"])(Lt,qt,Rt,!1,null,"5bbc4aac",null)),Gt=Ft.exports,Yt=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"album",void 0),Object(f["a"])(Object(u["a"])(t),"image",void 0),Object(f["a"])(Object(u["a"])(t),"converting",!1),Object(f["a"])(Object(u["a"])(t),"timeoutId",void 0),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"thumbnailUrl",get:function(){return this.album?this.apiService.thumbnailUrl(this.album.thumbnail):null}},{key:"destroyed",value:function(){this.clearTimeout()}},{key:"onError",value:function(){this.converting=!0,this.reload()}},{key:"onLoad",value:function(){this.converting=!1}},{key:"reload",value:function(){var t=this;this.clearTimeout(),this.timeoutId=window.setTimeout((function(){return t.image.src=t.thumbnailUrl}),5e3)}},{key:"clearTimeout",value:function(){this.timeoutId&&window.clearTimeout(this.timeoutId)}}]),a}(h["d"]);Object(d["a"])([Object(h["b"])()],Yt.prototype,"album",void 0),Object(d["a"])([Object(h["c"])()],Yt.prototype,"image",void 0),Yt=Object(d["a"])([Object(h["a"])({components:{Spinner:Gt}})],Yt);var Kt=Yt,Wt=Kt,Jt=(a("daf7"),Object(L["a"])(Wt,Vt,Qt,!1,null,"11a00a88",null)),Xt=Jt.exports,Zt=function(){function t(){Object(o["a"])(this,t)}return Object(c["a"])(t,[{key:"getBrowse",value:function(t){var e=t.path?t.path:[],a=e.join("/");return{path:"/browse/".concat(a)}}}]),t}(),te=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"navigationService",new Zt),t}return Object(c["a"])(a,[{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"trackTitle",get:function(){return this.nowPlaying&&this.nowPlaying.track?this.nowPlaying.track.title:null}},{key:"albumTitle",get:function(){return this.nowPlaying&&this.nowPlaying.album?this.nowPlaying.album.title:null}},{key:"goToNowPlayingSong",value:function(){this.goToNowPlayingAlbum()}},{key:"goToNowPlayingAlbum",value:function(){var t=this.navigationService.getBrowse(this.nowPlaying.album);this.$router.push(t)}}]),a}(h["d"]);te=Object(d["a"])([Object(h["a"])({components:{Thumbnail:Xt}})],te);var ee=te,ae=ee,ne=(a("8002"),Object(L["a"])(ae,Mt,Et,!1,null,"2b870c54",null)),ie=ne.exports,se=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div")},re=[],oe=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"paused",get:function(){return!this.$store.getters.nowPlaying||this.$store.state.paused}},{key:"onNowPlayingChanged",value:function(){var t=this.mediaSession;if(t){if(!this.nowPlaying)return void(t.metadata=null);var e={title:this.nowPlaying.track.title,album:this.nowPlaying.album.title,artwork:[{src:null,sizes:null}]};if(this.nowPlaying.album.thumbnail){var a=this.apiService.thumbnailUrl(this.nowPlaying.album.thumbnail);e.artwork=[{src:a,sizes:"200x200"}]}t.metadata=new MediaMetadata(e)}}},{key:"onPausedChanged",value:function(){var t=this.mediaSession;t&&(t.playbackState=this.paused?"paused":"playing")}},{key:"created",value:function(){var t=this,e=this.mediaSession;e&&(e.setActionHandler("play",(function(){return t.onPlay()})),e.setActionHandler("pause",(function(){return t.onPause()})),e.setActionHandler("previoustrack",(function(){return t.onPrevious()})),e.setActionHandler("nexttrack",(function(){return t.onNext()})))}},{key:"onPlay",value:function(){this.$store.commit(m.Play)}},{key:"onPause",value:function(){this.$store.commit(m.Pause)}},{key:"onPrevious",value:function(){this.$store.commit(m.Previous)}},{key:"onNext",value:function(){this.$store.commit(m.Next)}},{key:"mediaSession",get:function(){return"mediaSession"in window.navigator?window.navigator.mediaSession:null}}]),a}(h["d"]);Object(d["a"])([Object(h["e"])("nowPlaying")],oe.prototype,"onNowPlayingChanged",null),Object(d["a"])([Object(h["e"])("paused")],oe.prototype,"onPausedChanged",null),oe=Object(d["a"])([h["a"]],oe);var ce=oe,ue=ce,le=Object(L["a"])(ue,se,re,!1,null,null,null),be=le.exports,fe=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"playbackData",null),Object(f["a"])(Object(u["a"])(t),"errCheckSetup","Could not confirm whether this instance's setup process was completed."),Object(f["a"])(Object(u["a"])(t),"errCheckUser","Could not retrieve the current user."),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"created",value:function(){window.addEventListener("keydown",this.onKeyDown),this.redirectToSetupIfNeeded(),this.loadCurrentUser()}},{key:"destroyed",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"onKeyDown",value:function(t){"Space"===t.code&&(this.$store.state.paused?this.$store.commit(m.Play):this.$store.commit(m.Pause),t.preventDefault())}},{key:"onPlaybackData",value:function(t){this.playbackData=t}},{key:"isCsd",get:function(){var t=new Date,e=t.getDate(),a=t.getMonth()+1;return 28===e&&6===a}},{key:"redirectToSetupIfNeeded",value:function(){var t=this;this.apiService.stats().then((function(e){0===e.data.users&&t.$router.push({name:"setup"})}),(function(e){Ut.pushError(t,t.errCheckSetup,e)}))}},{key:"loadCurrentUser",value:function(){var t=this;this.apiService.refreshCurrentUser().catch((function(e){Ut.pushError(t,t.errCheckUser,e)}))}}]),a}(h["d"]);fe=Object(d["a"])([Object(h["a"])({components:{Controls:Ot,Player:Tt,Notifications:Ut,NowPlaying:ie,MediaSession:be}})],fe);var de=fe,he=de,ve=(a("b868"),Object(L["a"])(he,s,r,!1,null,null,null)),pe=ve.exports,me=a("8c4f"),ye=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"browse",class:{forbidden:t.forbidden}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"topbar"},[e("search-input",{staticClass:"search",model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),e("ul",{staticClass:"buttons"},[e("li",{staticClass:"button",class:{active:t.showQueue}},[e("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.showQueue?"Close queue.":"Queue.",expression:"showQueue ? 'Close queue.' : 'Queue.'"}],on:{click:t.toggleQueue}},[e("i",{staticClass:"fas fa-list-ol"})])]),e("li",{staticClass:"button"},[e("login-button")],1)])],1),e("div",{ref:"content",staticClass:"content"},[t.album?t._e():e("spinner",{staticClass:"spinner"}),t.showAlbum?e("div",{staticClass:"album"},[e("div",{staticClass:"artwork"},[e("thumbnail",{attrs:{album:t.basicAlbum}})],1),e("div",{staticClass:"info"},[e("ul",{staticClass:"crumbs"},[e("li",[e("router-link",{attrs:{to:"/browse"}},[t._v(" Eggplant ")])],1),t._l(t.album.parents,(function(a){return e("li",[e("router-link",{attrs:{to:t.parentUrl(a)}},[t._v(" "+t._s(a.title)+" ")])],1)}))],2),e("div",{staticClass:"title"},[t._v(" "+t._s(t.album.title)+" ")]),t.numberOfTracks>0?e("div",{staticClass:"details"},[t._v(" "+t._s(t.numberOfTracks)+" tracks, "+t._s(t.totalDurationMinutes)+" minutes ")]):t._e(),t.numberOfTracks>0?e("ul",{staticClass:"actions"},[e("li",[e("a",{staticClass:"play",on:{click:t.onPlayAlbumButtonClicked}},[t.showPlayAlbumButtonAsPause?e("i",{staticClass:"icon fas fa-pause"}):e("i",{staticClass:"icon fas fa-play"})])]),e("li",[e("dropdown",{ref:"dropdown",scopedSlots:t._u([{key:"trigger",fn:function(){return[e("a",{staticClass:"secondary"},[e("i",{staticClass:"fas fa-ellipsis-h"})])]},proxy:!0},{key:"content",fn:function(){return[e("dropdown-element",[e("a",{on:{click:t.addAlbumToQueue}},[t._v(" Add album to queue ")])])]},proxy:!0}],null,!1,684935244)})],1)]):t._e()])]):t._e(),t.album&&t.album.tracks?e("div",[e("SubHeader",{attrs:{text:"Tracks"}}),e("Tracks",{attrs:{entries:t.entries}})],1):t._e(),t.albums?e("div",[e("SubHeader",{attrs:{text:"Albums"}}),e("Albums",{attrs:{albums:t.albums},on:{"select-album":t.selectAlbum}})],1):t._e(),!t.album||t.album.albums||t.album.tracks?t._e():e("div",{staticClass:"no-content-message"},[t._v(" The music library is empty or you do not have permissions to view any tracks or albums. ")])],1),t.showQueue?e("div",{staticClass:"content queue"},[e("main-header",{attrs:{text:"Queue"}}),e("queue",{on:{"select-album":t.selectAlbum}})],1):t._e(),t.showSearch?e("div",{staticClass:"content search"},[e("main-header",{attrs:{text:"Search"}}),e("search",{attrs:{query:t.searchQuery},on:{"select-album":t.selectAlbum}})],1):t._e(),t._m(0)])])},Oe=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"forbidden-message"},[e("div",{staticClass:"message"},[e("div",{staticClass:"icon"},[e("i",{staticClass:"fas fa-exclamation-triangle"})]),t._v(" Access denied, please confirm that you are signed in. ")])])}],je=a("b85c"),ge=(a("d81d"),a("13d5"),a("7db0"),function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"subheader"},[e("div",{staticClass:"text"},[t._v(t._s(t.text))]),e("div",{staticClass:"line"})])}),ke=[],we=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"text",void 0),t}return Object(c["a"])(a)}(h["d"]);Object(d["a"])([Object(h["b"])()],we.prototype,"text",void 0),we=Object(d["a"])([h["a"]],we);var _e=we,Ce=_e,Pe=(a("9b1f"),Object(L["a"])(Ce,ge,ke,!1,null,"1b676b41",null)),xe=Pe.exports,Se=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"main-header"},[e("div",{staticClass:"text"},[t._v(t._s(t.text))])])},Te=[],$e=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"text",void 0),t}return Object(c["a"])(a)}(h["d"]);Object(d["a"])([Object(h["b"])()],$e.prototype,"text",void 0),$e=Object(d["a"])([h["a"]],$e);var Ae=$e,Ie=Ae,De=(a("0155"),Object(L["a"])(Ie,Se,Te,!1,null,"150104fa",null)),Be=De.exports,Ne=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"albums"},t._l(t.albums,(function(a){return e("a",{staticClass:"album",on:{click:function(e){return t.selectAlbum(a)}}},[e("div",{staticClass:"image"},[e("thumbnail",{attrs:{album:a}})],1),e("div",{staticClass:"title"},[t._v(" "+t._s(a.title)+" ")])])})),0)},Ue=[],Me=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"albums",void 0),t}return Object(c["a"])(a,[{key:"selectAlbum",value:function(t){this.$emit("select-album",t)}}]),a}(h["d"]);Object(d["a"])([Object(h["b"])()],Me.prototype,"albums",void 0),Me=Object(d["a"])([Object(h["a"])({components:{Thumbnail:Xt}})],Me);var Ee=Me,Ve=Ee,Qe=(a("cfe2"),Object(L["a"])(Ve,Ne,Ue,!1,null,"c5523daa",null)),qe=Qe.exports,Re=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("ul",{staticClass:"tracks"},t._l(t.entries,(function(a,n){return e("li",{staticClass:"track"},[e("div",{staticClass:"play",class:{playing:t.isNowPlaying(n,a.track)}},[t.showPlayAlbumButtonAsPause(n,a.track)?e("a",{staticClass:"button",on:{click:function(e){return t.onPlayTrackButtonClicked(n)}}},[e("i",{staticClass:"icon fas fa-pause"})]):e("a",{staticClass:"button",on:{click:function(e){return t.onPlayTrackButtonClicked(n)}}},[e("i",{staticClass:"icon fas fa-play"})]),e("div",{staticClass:"number"},[t._v(" "+t._s(n+1)+". ")])]),e("div",{staticClass:"title",attrs:{title:a.track.title}},[t._v(" "+t._s(a.track.title)+" ")]),e("dropdown",{ref:"dropdowns",refInFor:!0,staticClass:"actions",scopedSlots:t._u([{key:"trigger",fn:function(){return[e("div",{staticClass:"target"},[e("i",{staticClass:"fas fa-ellipsis-h"})])]},proxy:!0},{key:"content",fn:function(){return[e("dropdown-element",[e("a",{on:{click:function(e){return t.addToQueue(a)}}},[t._v(" Add to queue ")])]),t.queueMode?e("dropdown-element",[e("a",{on:{click:function(e){return t.removeFromQueue(a)}}},[t._v(" Remove from queue ")])]):t._e(),t.showGoToAlbum?e("dropdown-divider"):t._e(),t.showGoToAlbum?e("dropdown-element",[e("a",{on:{click:function(e){return t.goToAlbum(a)}}},[t._v(" Go to album ")])]):t._e()]},proxy:!0}],null,!0)}),e("div",{staticClass:"duration"},[t.isBeingConverted(a.track)?t._e():e("div",[t._v(" "+t._s(t.formatDuration(a.track))+" ")]),t.isBeingConverted(a.track)?e("div",[e("spinner",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This track has not been converted yet.",expression:"'This track has not been converted yet.'"}]})],1):t._e()])],1)})),0)},He=[],ze=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"dropdown"},[t.isOpen?e("div",{staticClass:"close-overlay",on:{click:t.close}}):t._e(),e("div",{staticClass:"black-overlay",class:{dark:t.isOpen}}),e("div",{staticClass:"wrapper"},[e("a",{ref:"trigger",staticClass:"trigger",on:{click:t.open}},[t._t("trigger")],2),t.isOpen?e("div",{staticClass:"arrow",style:{top:t.arrowTop,left:t.arrowLeft}}):t._e(),t.isOpen?e("ul",{staticClass:"content",style:{top:t.top,left:t.left}},[t._t("content")],2):t._e()])])},Le=[],Fe=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"isOpen",!1),Object(f["a"])(Object(u["a"])(t),"top",""),Object(f["a"])(Object(u["a"])(t),"left",""),Object(f["a"])(Object(u["a"])(t),"arrowTop",""),Object(f["a"])(Object(u["a"])(t),"arrowLeft",""),Object(f["a"])(Object(u["a"])(t),"trigger",void 0),t}return Object(c["a"])(a,[{key:"created",value:function(){window.addEventListener("resize",this.onResize)}},{key:"destroyed",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"onResize",value:function(){this.refreshPositions()}},{key:"open",value:function(){this.refreshPositions(),this.isOpen=!0}},{key:"close",value:function(){this.isOpen=!1}},{key:"refreshPositions",value:function(){var t=this.trigger.getBoundingClientRect();this.top=t.bottom+"px",this.left=t.x+"px",this.arrowTop=t.bottom+"px",this.arrowLeft=t.x+t.width/2+"px"}}]),a}(h["d"]);Object(d["a"])([Object(h["c"])("trigger")],Fe.prototype,"trigger",void 0),Fe=Object(d["a"])([h["a"]],Fe);var Ge=Fe,Ye=Ge,Ke=(a("1459"),Object(L["a"])(Ye,ze,Le,!1,null,"948cd978",null)),We=Ke.exports,Je=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("li",{staticClass:"dropdown-element"},[t._t("default")],2)},Xe=[],Ze=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a)}(h["d"]);Ze=Object(d["a"])([h["a"]],Ze);var ta=Ze,ea=ta,aa=(a("5196"),Object(L["a"])(ea,Je,Xe,!1,null,"35969062",null)),na=aa.exports,ia=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("li",{staticClass:"dropdown-divider"})},sa=[],ra=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a)}(h["d"]);ra=Object(d["a"])([h["a"]],ra);var oa=ra,ca=oa,ua=(a("9c21"),Object(L["a"])(ca,ia,sa,!1,null,"c65ccd08",null)),la=ua.exports,ba=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"entries",void 0),Object(f["a"])(Object(u["a"])(t),"queueMode",void 0),Object(f["a"])(Object(u["a"])(t),"showGoToAlbum",void 0),Object(f["a"])(Object(u["a"])(t),"dropdowns",void 0),Object(f["a"])(Object(u["a"])(t),"textService",new N),t}return Object(c["a"])(a,[{key:"isNowPlaying",value:function(t,e){var a=this.$store.getters.nowPlaying;return!!a&&(this.queueMode?t===this.$store.state.playingIndex:e.id===a.track.id)}},{key:"showPlayAlbumButtonAsPause",value:function(t,e){if(!this.nowPlaying)return!1;if(this.queueMode){if(t===this.$store.state.playingIndex)return!this.paused()}else if(this.nowPlaying.track.id===e.id)return!this.paused();return!1}},{key:"isBeingConverted",value:function(t){return!t.duration}},{key:"onPlayTrackButtonClicked",value:function(t){if(this.isNowPlaying(t,this.entries[t].track))this.paused()?this.$store.commit(m.Play):this.$store.commit(m.Pause);else{var e=this.entries.map((function(t){return{album:t.album,track:t.track}})),a={entries:e,playingIndex:t};this.$store.commit(m.Replace,a)}}},{key:"addToQueue",value:function(t){var e={entries:[t]};this.$store.commit(m.Append,e),this.closeDropdowns(),M.pushSuccess(this,"Song added to queue.")}},{key:"removeFromQueue",value:function(t){var e={entry:t};this.$store.commit(m.Remove,e),this.closeDropdowns()}},{key:"goToAlbum",value:function(t){this.closeDropdowns(),this.$emit("select-album",t.album)}},{key:"formatDuration",value:function(t){return this.textService.formatTime(t.duration)}},{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"paused",value:function(){return this.$store.getters.nowPlayingPaused}},{key:"closeDropdowns",value:function(){var t,e=Object(je["a"])(this.dropdowns);try{for(e.s();!(t=e.n()).done;){var a=t.value;a.close()}}catch(n){e.e(n)}finally{e.f()}}}]),a}(h["d"]);Object(d["a"])([Object(h["b"])()],ba.prototype,"entries",void 0),Object(d["a"])([Object(h["b"])()],ba.prototype,"queueMode",void 0),Object(d["a"])([Object(h["b"])()],ba.prototype,"showGoToAlbum",void 0),Object(d["a"])([Object(h["c"])("dropdowns")],ba.prototype,"dropdowns",void 0),ba=Object(d["a"])([Object(h["a"])({components:{Spinner:Gt,Dropdown:We,DropdownElement:na,DropdownDivider:la}})],ba);var fa=ba,da=fa,ha=(a("cf8c"),Object(L["a"])(da,Re,He,!1,null,"c04b9196",null)),va=ha.exports,pa=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"login-button"},[t.loading?e("div",{staticClass:"button"},[e("spinner")],1):t._e(),!t.loading&&t.user?e("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"You are signed in as "+t.user.username+".",expression:"'You are signed in as '+ user.username + '.'"}],staticClass:"button",on:{click:t.settings}},[e("i",{staticClass:"fas fa-user-check"})]):t._e(),t.loading||t.user?t._e():e("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"You are not signed in, some content may not be visible.",expression:"'You are not signed in, some content may not be visible.'"}],staticClass:"button",on:{click:t.login}},[e("i",{staticClass:"fas fa-user-times"})])])},ma=[],ya=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"loading",get:function(){return void 0===this.user}},{key:"user",get:function(){return this.$store.state.user}},{key:"login",value:function(){this.$router.push({name:"login",query:{next:window.location.pathname}})}},{key:"settings",value:function(){this.$router.push({name:"settings"})}}]),a}(h["d"]);ya=Object(d["a"])([Object(h["a"])({components:{Spinner:Gt}})],ya);var Oa=ya,ja=Oa,ga=(a("22c1"),Object(L["a"])(ja,pa,ma,!1,null,"69a33e93",null)),ka=ga.exports,wa=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"search-input"},[t._m(0),t.showCloseButton?e("a",{staticClass:"close",on:{click:function(e){return t.$emit("input","")}}},[e("i",{staticClass:"fas fa-times"})]):t._e(),e("input",{attrs:{type:"text",placeholder:"Search",maxlength:"100"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},keydown:function(t){t.stopPropagation()}}})])},_a=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"icon"},[e("i",{staticClass:"fas fa-search"})])}],Ca=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"value",void 0),t}return Object(c["a"])(a,[{key:"showCloseButton",get:function(){return!!this.value}}]),a}(h["d"]);Object(d["a"])([Object(h["b"])()],Ca.prototype,"value",void 0),Ca=Object(d["a"])([h["a"]],Ca);var Pa=Ca,xa=Pa,Sa=(a("8f22"),Object(L["a"])(xa,wa,_a,!1,null,"b55fcb5a",null)),Ta=Sa.exports,$a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"queue"},[t.empty?e("div",{staticClass:"message"},[t._v(" Your queue is empty. ")]):t._e(),e("tracks",{attrs:{entries:t.entries,queueMode:!0,showGoToAlbum:!0},on:{"select-album":t.onSelectAlbum}})],1)},Aa=[],Ia=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"form-input"},[t.icon?e("div",{staticClass:"icon"},[e("i",{class:t.icon})]):t._e(),e("input",{attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},keydown:t.onKeyDown}})])},Da=[],Ba=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"type",void 0),Object(f["a"])(Object(u["a"])(t),"placeholder",void 0),Object(f["a"])(Object(u["a"])(t),"value",void 0),Object(f["a"])(Object(u["a"])(t),"icon",void 0),t}return Object(c["a"])(a,[{key:"onKeyDown",value:function(t){"Enter"===t.key&&this.$emit("submit")}}]),a}(h["d"]);Object(d["a"])([Object(h["b"])()],Ba.prototype,"type",void 0),Object(d["a"])([Object(h["b"])()],Ba.prototype,"placeholder",void 0),Object(d["a"])([Object(h["b"])()],Ba.prototype,"value",void 0),Object(d["a"])([Object(h["b"])()],Ba.prototype,"icon",void 0),Ba=Object(d["a"])([h["a"]],Ba);var Na=Ba,Ua=Na,Ma=(a("d6d9"),Object(L["a"])(Ua,Ia,Da,!1,null,"150c07e4",null)),Ea=Ma.exports,Va=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("a",{staticClass:"app-button",class:{disabled:t.disabled,working:t.working},on:{click:t.onClick}},[t.working?t._e():e("span",[t._v(t._s(t.text))]),t.working?e("spinner"):t._e()],1)},Qa=[],qa=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"text",void 0),Object(f["a"])(Object(u["a"])(t),"disabled",void 0),Object(f["a"])(Object(u["a"])(t),"working",void 0),t}return Object(c["a"])(a,[{key:"onClick",value:function(t){this.disabled||this.working||this.$emit("click",t)}}]),a}(h["d"]);Object(d["a"])([Object(h["b"])()],qa.prototype,"text",void 0),Object(d["a"])([Object(h["b"])()],qa.prototype,"disabled",void 0),Object(d["a"])([Object(h["b"])()],qa.prototype,"working",void 0),qa=Object(d["a"])([Object(h["a"])({components:{Spinner:Gt}})],qa);var Ra=qa,Ha=Ra,za=(a("9839"),Object(L["a"])(Ha,Va,Qa,!1,null,"59d015a9",null)),La=za.exports,Fa=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"action-bar-button"},[t.working?t._e():e("a",{on:{click:t.onClick}},[e("i",{class:t.icon}),t._v(" "+t._s(t.text)+" ")]),t.working?e("spinner"):t._e()],1)},Ga=[],Ya=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"icon",void 0),Object(f["a"])(Object(u["a"])(t),"text",void 0),Object(f["a"])(Object(u["a"])(t),"working",void 0),t}return Object(c["a"])(a,[{key:"onClick",value:function(t){this.working||this.$emit("click",t)}}]),a}(h["d"]);Object(d["a"])([Object(h["b"])()],Ya.prototype,"icon",void 0),Object(d["a"])([Object(h["b"])()],Ya.prototype,"text",void 0),Object(d["a"])([Object(h["b"])()],Ya.prototype,"working",void 0),Ya=Object(d["a"])([Object(h["a"])({components:{Spinner:Gt}})],Ya);var Ka=Ya,Wa=Ka,Ja=(a("da10"),Object(L["a"])(Wa,Fa,Ga,!1,null,"3e25782c",null)),Xa=Ja.exports,Za=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"action-bar"},[t._t("default")],2)},tn=[],en=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a)}(h["d"]);en=Object(d["a"])([h["a"]],en);var an=en,nn=an,sn=(a("82a9"),Object(L["a"])(nn,Za,tn,!1,null,"3fbe51a9",null)),rn=sn.exports,on=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"entries",get:function(){return this.$store.state.entries}},{key:"empty",get:function(){return!this.entries||0===this.entries.length}},{key:"onSelectAlbum",value:function(t){this.$emit("select-album",t)}}]),a}(h["d"]);on=Object(d["a"])([Object(h["a"])({components:{MainHeader:Be,FormInput:Ea,AppButton:La,ActionBar:rn,ActionBarButton:Xa,Tracks:va}})],on);var cn=on,un=cn,ln=(a("d1c6"),Object(L["a"])(un,$a,Aa,!1,null,"531951bf",null)),bn=ln.exports,fn=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"search"},[t.result?t._e():e("spinner"),t.result?e("div",[e("SubHeader",{attrs:{text:"Tracks"}}),e("Tracks",{attrs:{entries:t.tracks,showGoToAlbum:!0},on:{"select-album":t.selectAlbum}}),0===t.tracks.length?e("div",{staticClass:"message"},[t._v(" No tracks found. ")]):t._e(),e("SubHeader",{attrs:{text:"Albums"}}),e("Albums",{attrs:{albums:t.albums},on:{"select-album":t.selectAlbum}}),0===t.albums.length?e("div",{staticClass:"message"},[t._v(" No albums found. ")]):t._e()],1):t._e()],1)},dn=[],hn=(a("ac1f"),a("841c"),function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"query",void 0),Object(f["a"])(Object(u["a"])(t),"result",null),Object(f["a"])(Object(u["a"])(t),"timeoutId",null),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),Object(f["a"])(Object(u["a"])(t),"searchDelay",250),t}return Object(c["a"])(a,[{key:"onQueryChanged",value:function(){this.scheduleTimeout()}},{key:"tracks",get:function(){return this.result&&this.result.tracks?this.result.tracks.map((function(t){return{album:t.album,track:t.track}})):[]}},{key:"albums",get:function(){return this.result&&this.result.albums?this.result.albums:[]}},{key:"selectAlbum",value:function(t){this.$emit("select-album",t)}},{key:"load",value:function(){var t=this;if(this.result=null,this.query&&0!==this.query.length){var e=this.query;this.apiService.search(this.query).then((function(a){t.query===e&&(t.result=a.data)}))}}},{key:"scheduleTimeout",value:function(){this.clearTimeout(),this.timeoutId=window.setTimeout(this.load,this.searchDelay)}},{key:"clearTimeout",value:function(){this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=null)}}]),a}(h["d"]));Object(d["a"])([Object(h["b"])()],hn.prototype,"query",void 0),Object(d["a"])([Object(h["e"])("query",{immediate:!0})],hn.prototype,"onQueryChanged",null),hn=Object(d["a"])([Object(h["a"])({components:{MainHeader:Be,FormInput:Ea,AppButton:La,ActionBar:rn,ActionBarButton:Xa,Tracks:va,Albums:qe,SubHeader:xe,Spinner:Gt}})],hn);var vn,pn=hn,mn=pn,yn=(a("5ce6"),Object(L["a"])(mn,fn,dn,!1,null,"1866a8c4",null)),On=yn.exports;(function(t){t["Browse"]="browse",t["Search"]="search",t["Queue"]="queue"})(vn||(vn={}));var jn=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"album",null),Object(f["a"])(Object(u["a"])(t),"forbidden",!1),Object(f["a"])(Object(u["a"])(t),"searchQuery",null),Object(f["a"])(Object(u["a"])(t),"view",vn.Browse),Object(f["a"])(Object(u["a"])(t),"dropdown",void 0),Object(f["a"])(Object(u["a"])(t),"contentDiv",void 0),Object(f["a"])(Object(u["a"])(t),"timeoutId",void 0),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),Object(f["a"])(Object(u["a"])(t),"navigationService",new Zt),t}return Object(c["a"])(a,[{key:"onRouteChanged",value:function(){this.album=null,this.load(),this.scrollContentToTop(),this.switchView(vn.Browse)}},{key:"onSearchQueryChanged",value:function(){this.searchQuery?this.view!==vn.Search&&this.switchView(vn.Search):this.view===vn.Search&&this.switchView(vn.Browse)}},{key:"created",value:function(){this.load()}},{key:"destroyed",value:function(){this.clearTimeout()}},{key:"parentUrl",value:function(t){var e=this.album.parents.indexOf(t),a=this.album.parents.filter((function(t,a){return a<=e})).map((function(t){return t.id})),n=a.join("/");return"/browse/".concat(n)}},{key:"selectAlbum",value:function(t){this.switchView(vn.Browse);var e=this.navigationService.getBrowse(t);this.$router.push(e)}},{key:"toggleQueue",value:function(){this.view===vn.Queue?this.switchView(vn.Browse):this.switchView(vn.Queue)}},{key:"onPlayAlbumButtonClicked",value:function(){if(this.anyAlbumSongIsCurrentlyNowPlaying())this.paused()?this.$store.commit(m.Play):this.$store.commit(m.Pause);else{var t=this.entries.map((function(t){return{album:t.album,track:t.track}})),e={entries:t,playingIndex:0};this.$store.commit(m.Replace,e)}}},{key:"addAlbumToQueue",value:function(){var t=this.entries.map((function(t){return{album:t.album,track:t.track}})),e={entries:t};this.$store.commit(m.Append,e),this.dropdown.close(),M.pushSuccess(this,"Album added to queue.")}},{key:"onSearchNavigation",value:function(){this.scrollContentToTop(),this.searchQuery=null}},{key:"showSearch",get:function(){return this.view===vn.Search}},{key:"showAlbum",get:function(){if(this.album){var t=this.getIdsFromRoute();return 0!==t.length||(!!this.album.thumbnail||!!this.album.tracks)}return!1}},{key:"showQueue",get:function(){return this.view===vn.Queue}},{key:"noContent",get:function(){return!!this.album&&(!(this.album.tracks&&this.album.tracks.length>0)&&!(this.album.albums&&this.album.albums.length>0))}},{key:"numberOfTracks",get:function(){return this.album&&this.album.tracks?this.album.tracks.length:0}},{key:"entries",get:function(){var t=this;return this.album&&this.album.tracks?this.album.tracks.map((function(e){return{track:e,album:t.toBasicAlbum(t.album)}})):[]}},{key:"basicAlbum",get:function(){return this.toBasicAlbum(this.album)}},{key:"albums",get:function(){var t=this;return this.album&&this.album.albums?this.album.albums.map((function(e){var a=t.toBasicAlbum(e);return a.path=t.album.parents?t.album.parents.map((function(t){return t.id})):[],a.path.push(e.id),a})):null}},{key:"totalDurationMinutes",get:function(){return this.album&&this.album.tracks?Math.ceil(this.album.tracks.reduce((function(t,e){return e.duration?t+e.duration:t}),0)/60):0}},{key:"showPlayAlbumButtonAsPause",get:function(){return!!this.anyAlbumSongIsCurrentlyNowPlaying()&&!this.paused()}},{key:"nowPlaying",get:function(){return this.$store.getters.nowPlaying}},{key:"paused",value:function(){return this.$store.getters.nowPlayingPaused}},{key:"anyAlbumSongIsCurrentlyNowPlaying",value:function(){if(!this.nowPlaying)return!1;var t,e=Object(je["a"])(this.album.tracks);try{for(e.s();!(t=e.n()).done;){var a=t.value;if(a.id===this.nowPlaying.track.id)return!0}}catch(n){e.e(n)}finally{e.f()}return!1}},{key:"load",value:function(){var t=this;this.clearTimeout();var e=this.getIdsFromRoute();this.apiService.browse(e).then((function(e){if(t.album=e.data,t.album.tracks){var a=t.album.tracks.find((function(t){return!t.duration}));a&&t.scheduleTimeout()}}),(function(e){403===e.response.status&&(t.forbidden=!0),M.pushError(t,"Could not list the tracks and albums.",e),t.scheduleTimeout()}))}},{key:"scheduleTimeout",value:function(){this.clearTimeout(),this.timeoutId=window.setTimeout(this.load,5e3)}},{key:"clearTimeout",value:function(){this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"getIdsFromRoute",value:function(){var t=this.$route.params;return t.pathMatch?t.pathMatch.split("/"):[]}},{key:"scrollContentToTop",value:function(){this.contentDiv.scrollTop=0}},{key:"toBasicAlbum",value:function(t){return{title:t.title,path:t.parents?t.parents.map((function(t){return t.id})):[],thumbnail:t.thumbnail}}},{key:"switchView",value:function(t){t!==vn.Search&&(this.searchQuery=null),this.view=t}}]),a}(h["d"]);Object(d["a"])([Object(h["c"])("dropdown")],jn.prototype,"dropdown",void 0),Object(d["a"])([Object(h["c"])("content")],jn.prototype,"contentDiv",void 0),Object(d["a"])([Object(h["e"])("$route")],jn.prototype,"onRouteChanged",null),Object(d["a"])([Object(h["e"])("searchQuery")],jn.prototype,"onSearchQueryChanged",null),jn=Object(d["a"])([Object(h["a"])({components:{Albums:qe,SubHeader:xe,MainHeader:Be,Tracks:va,Thumbnail:Xt,NowPlaying:ie,SearchInput:Ta,LoginButton:ka,Spinner:Gt,Queue:bn,Search:On,Dropdown:We,DropdownElement:na,DropdownDivider:la}})],jn);var gn=jn,kn=gn,wn=(a("6ee9"),Object(L["a"])(kn,ye,Oe,!1,null,"1afd9ef8",null)),_n=wn.exports,Cn=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"initialize"},[e("main-header",{attrs:{text:"Create an administrator account"}}),e("div",{staticClass:"center"},[e("form",[e("form-input",{attrs:{type:"text",placeholder:"Username",icon:"fas fa-user"},on:{submit:t.submit},model:{value:t.cmd.username,callback:function(e){t.$set(t.cmd,"username",e)},expression:"cmd.username"}}),e("form-input",{attrs:{type:"password",placeholder:"Password",icon:"fas fa-key"},on:{submit:t.submit},model:{value:t.cmd.password,callback:function(e){t.$set(t.cmd,"password",e)},expression:"cmd.password"}}),e("app-button",{attrs:{text:"Proceed",disabled:!t.formValid,working:t.working},on:{click:t.submit}})],1)])],1)},Pn=[],xn=(a("5319"),Object(c["a"])((function t(){Object(o["a"])(this,t),Object(f["a"])(this,"username",void 0),Object(f["a"])(this,"password",void 0)}))),Sn=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"cmd",new xn),Object(f["a"])(Object(u["a"])(t),"working",!1),Object(f["a"])(Object(u["a"])(t),"errLogin","Initial setup succeeded but the automatic login failed."),Object(f["a"])(Object(u["a"])(t),"errSetup","Error performing the initial setup."),Object(f["a"])(Object(u["a"])(t),"errCheckSetup","Could not confirm whether this instance's setup process was completed."),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"mounted",value:function(){this.redirectAwayIfNeeded()}},{key:"submit",value:function(){var t=this;this.formValid&&(this.working=!0,this.apiService.initialize(this.cmd).then((function(){var e={username:t.cmd.username,password:t.cmd.password};t.apiService.login(e).then((function(){t.working=!1,t.$router.replace({name:"browse"})}),(function(e){t.working=!1,M.pushError(t,t.errLogin,e)}))}),(function(e){t.working=!1,M.pushError(t,t.errSetup,e)})))}},{key:"formValid",get:function(){return!this.formErrors||0===this.formErrors.length}},{key:"formErrors",get:function(){var t=[];return this.cmd.username||t.push("Username can not be empty."),this.cmd.password||t.push("Password can not be empty."),t}},{key:"redirectAwayIfNeeded",value:function(){var t=this;this.apiService.stats().then((function(e){0!==e.data.users&&t.$router.replace({name:"browse"})}),(function(e){M.pushError(t,t.errCheckSetup,e)}))}}]),a}(h["d"]);Sn=Object(d["a"])([Object(h["a"])({components:{MainHeader:Be,SubHeader:xe,FormInput:Ea,AppButton:La}})],Sn);var Tn=Sn,$n=Tn,An=(a("52b5"),Object(L["a"])($n,Cn,Pn,!1,null,"704593ab",null)),In=An.exports,Dn=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"login"},[e("action-bar",[e("action-bar-button",{attrs:{text:"Go back to the music",icon:"fas fa-arrow-left"},on:{click:t.goToBrowse}})],1),e("main-header",{attrs:{text:"Sign in"}}),e("div",{staticClass:"center"},[e("form",[e("form-input",{attrs:{type:"text",placeholder:"Username",icon:"fas fa-user"},on:{submit:t.submit},model:{value:t.cmd.username,callback:function(e){t.$set(t.cmd,"username",e)},expression:"cmd.username"}}),e("form-input",{attrs:{type:"password",placeholder:"Password",icon:"fas fa-key"},on:{submit:t.submit},model:{value:t.cmd.password,callback:function(e){t.$set(t.cmd,"password",e)},expression:"cmd.password"}}),e("app-button",{attrs:{text:"Sign in",disabled:!t.formValid,working:t.working},on:{click:t.submit}})],1)])],1)},Bn=[],Nn=Object(c["a"])((function t(){Object(o["a"])(this,t),Object(f["a"])(this,"username",void 0),Object(f["a"])(this,"password",void 0)})),Un=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"cmd",new Nn),Object(f["a"])(Object(u["a"])(t),"working",!1),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"onUserChanged",value:function(t){t&&this.escapeToBrowse()}},{key:"submit",value:function(){var t=this;if(this.formValid){this.working=!0;var e=this.getNext();this.apiService.login(this.cmd).then((function(){e?t.$router.replace({path:e}):t.escapeToBrowse()}),(function(e){M.pushError(t,"Sign in process could not be completed.",e)})).finally((function(){t.working=!1}))}}},{key:"goToBrowse",value:function(){this.$router.push({name:"browse"})}},{key:"escapeToBrowse",value:function(){this.$router.replace({name:"browse"})}},{key:"formValid",get:function(){return!this.formErrors||0===this.formErrors.length}},{key:"formErrors",get:function(){var t=[];return this.cmd.username||t.push("Username can not be empty."),this.cmd.password||t.push("Password can not be empty."),t}},{key:"user",get:function(){return this.$store.state.user}},{key:"getNext",value:function(){var t=this.$route.query.next;return Array.isArray(t)?t.length>0?t[0]:null:t}}]),a}(h["d"]);Object(d["a"])([Object(h["e"])("user",{immediate:!0})],Un.prototype,"onUserChanged",null),Un=Object(d["a"])([Object(h["a"])({components:{MainHeader:Be,FormInput:Ea,AppButton:La,ActionBar:rn,ActionBarButton:Xa}})],Un);var Mn=Un,En=Mn,Vn=(a("b01f"),Object(L["a"])(En,Dn,Bn,!1,null,"42676704",null)),Qn=Vn.exports,qn=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"register"},[e("action-bar",[e("action-bar-button",{attrs:{text:"Go back to the music",icon:"fas fa-arrow-left"},on:{click:t.goToBrowse}})],1),e("main-header",{attrs:{text:"Sign up"}}),e("div",{staticClass:"center"},[e("form",[e("form-input",{attrs:{type:"text",placeholder:"Username",icon:"fas fa-user"},on:{submit:t.submit},model:{value:t.cmd.username,callback:function(e){t.$set(t.cmd,"username",e)},expression:"cmd.username"}}),e("form-input",{attrs:{type:"password",placeholder:"Password",icon:"fas fa-key"},on:{submit:t.submit},model:{value:t.cmd.password,callback:function(e){t.$set(t.cmd,"password",e)},expression:"cmd.password"}}),e("app-button",{attrs:{text:"Sign up",disabled:!t.formValid,working:t.working},on:{click:t.submit}})],1)])],1)},Rn=[],Hn=Object(c["a"])((function t(){Object(o["a"])(this,t),Object(f["a"])(this,"username",void 0),Object(f["a"])(this,"password",void 0),Object(f["a"])(this,"token",void 0)})),zn=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"cmd",new Hn),Object(f["a"])(Object(u["a"])(t),"working",!1),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),Object(f["a"])(Object(u["a"])(t),"errLogin","Sign up succeeded but the automatic login failed."),Object(f["a"])(Object(u["a"])(t),"errSignUp","Error during the sign up process."),t}return Object(c["a"])(a,[{key:"onUserChanged",value:function(t){t&&this.escapeToBrowse()}},{key:"submit",value:function(){var t=this;this.formValid&&(this.working=!0,this.cmd.token=this.$route.params.token,this.apiService.register(this.cmd).then((function(){var e={username:t.cmd.username,password:t.cmd.password};t.apiService.login(e).then((function(){t.working=!1,t.escapeToBrowse()}),(function(e){t.working=!1,M.pushError(t,t.errLogin,e)}))}),(function(e){t.working=!1,M.pushError(t,t.errSignUp,e)})))}},{key:"escapeToBrowse",value:function(){this.$router.replace({name:"browse"})}},{key:"goToBrowse",value:function(){this.$router.push({name:"browse"})}},{key:"formValid",get:function(){return!this.formErrors||0===this.formErrors.length}},{key:"formErrors",get:function(){var t=[];return this.cmd.username||t.push("Username can not be empty."),this.cmd.password||t.push("Password can not be empty."),t}}]),a}(h["d"]);Object(d["a"])([Object(h["e"])("user",{immediate:!0})],zn.prototype,"onUserChanged",null),zn=Object(d["a"])([Object(h["a"])({components:{MainHeader:Be,SubHeader:xe,FormInput:Ea,AppButton:La,ActionBar:rn,ActionBarButton:Xa}})],zn);var Ln=zn,Fn=Ln,Gn=(a("2539"),Object(L["a"])(Fn,qn,Rn,!1,null,"ce46a62c",null)),Yn=Gn.exports,Kn=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"settings"},[e("action-bar",[e("action-bar-button",{attrs:{text:"Go back to the music",icon:"fas fa-arrow-left"},on:{click:t.goToBrowse}}),e("action-bar-button",{attrs:{text:"Sign me out",icon:"fas fa-sign-out-alt",working:t.logoutInProgress},on:{click:t.logout}}),e("action-bar-button",{attrs:{text:"Show me the statistics",icon:"fas fa-chart-pie"},on:{click:t.goToStats}})],1),e("main-header",{attrs:{text:"Settings"}}),e("sub-header",{attrs:{text:"Invitations"}}),t.user&&t.user.administrator?e("Invitations"):t._e(),e("sub-header",{attrs:{text:"Users"}}),t.user&&t.user.administrator?e("Users"):t._e(),e("sub-header",{attrs:{text:"Connected instances"}})],1)},Wn=[],Jn=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"users"},[e("table",[t._m(0),e("tbody",t._l(t.users,(function(a){return e("tr",{key:a.username,staticClass:"user"},[e("td",{staticClass:"username"},[t._v(" "+t._s(a.username)+" ")]),e("td",{staticClass:"role"},[t._v(" "+t._s(t.getRole(a))+" ")]),e("td",{staticClass:"created"},[e("timeago",{attrs:{datetime:a.created}})],1),e("td",{staticClass:"last-seen"},[e("timeago",{attrs:{datetime:a.lastSeen}})],1),e("td",{staticClass:"actions"},[e("v-popover",{attrs:{offset:"16"}},[t.canRemove(a)?e("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Remove this user.",expression:"'Remove this user.'"}]},[e("i",{staticClass:"fas fa-times"})]):t._e(),e("template",{slot:"popover"},[e("p",[t._v(" This action can not be undone, do you wish to proceed? ")]),e("app-button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],attrs:{text:"Confirm"},on:{click:function(e){return t.removeUser(a)}}})],1)],2)],1)])})),0)]),t.users?t._e():e("spinner")],1)},Xn=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("thead",[e("th",{staticClass:"username"},[t._v(" Username ")]),e("th",{staticClass:"role"},[t._v(" Role ")]),e("th",{staticClass:"created"},[t._v(" Signed Up ")]),e("th",{staticClass:"last-seen"},[t._v(" Last Seen ")]),e("th",{staticClass:"actions"},[t._v(" Actions ")])])}],Zn=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"users",null),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"mounted",value:function(){this.load()}},{key:"getRole",value:function(t){return t.administrator?"Administrator":"User"}},{key:"canRemove",value:function(t){return t.username!==this.currentUser.username}},{key:"removeUser",value:function(t){var e=this;this.apiService.remove(t.username).then((function(){e.load()}),(function(a){M.pushError(e,"Could not remove the user '".concat(t.username,"'."),a)}))}},{key:"currentUser",get:function(){return this.$store.state.user}},{key:"load",value:function(){var t=this;this.users=null,this.apiService.list().then((function(e){t.users=e.data}),(function(e){M.pushError(t,"Could not list the user accounts.",e)}))}}]),a}(h["d"]);Zn=Object(d["a"])([Object(h["a"])({components:{AppButton:La,Spinner:Gt}})],Zn);var ti=Zn,ei=ti,ai=(a("463f"),Object(L["a"])(ei,Jn,Xn,!1,null,"4cfbd87b",null)),ni=ai.exports,ii=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"invitations"},[e("app-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Create a link containing a one-time token allowing your friend to register an account.",expression:"'Create a link containing a one-time token allowing your friend to register an account.'"}],staticClass:"button",attrs:{text:"Create an invitation link",working:t.working},on:{click:t.createInvitation}}),t.invitationUrl?e("pre",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Click to copy.",expression:"'Click to copy.'"}],staticClass:"token",on:{click:t.copy}},[t._v(t._s(t.invitationUrl))]):t._e()],1)},si=[],ri=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"working",!1),Object(f["a"])(Object(u["a"])(t),"token",null),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"createInvitation",value:function(){var t=this;this.working=!0,this.apiService.createInvitation().then((function(e){t.token=e.data.token}),(function(e){M.pushError(t,"Generating an invitation failed.",e)})).finally((function(){return t.working=!1}))}},{key:"copy",value:function(){var t=this;navigator.clipboard?navigator.clipboard.writeText(this.invitationUrl).then((function(){M.pushSuccess(t,"The invitation link has been copied.")}),(function(){M.pushError(t,"Copying to clipboard failed.")})):M.pushError(this,"\n                The Clipboard API is not available.\n                Please note that the Clipboard API is only available in secure\n                contexts (websites secured with TLS).\n            ")}},{key:"invitationUrl",get:function(){if(!this.token)return null;var t=window.location;return"".concat(t.protocol,"//").concat(t.host,"/register/").concat(this.token)}}]),a}(h["d"]);ri=Object(d["a"])([Object(h["a"])({components:{AppButton:La}})],ri);var oi=ri,ci=oi,ui=(a("fcbe"),Object(L["a"])(ci,ii,si,!1,null,"0e3e2fb1",null)),li=ui.exports,bi=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"logoutInProgress",!1),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"onUserChanged",value:function(t){null===t&&this.escapeToBrowse()}},{key:"escapeToBrowse",value:function(){this.$router.replace({name:"browse"})}},{key:"goToBrowse",value:function(){this.$router.push({name:"browse"})}},{key:"goToStats",value:function(){this.$router.push({name:"stats"})}},{key:"logout",value:function(){var t=this;this.logoutInProgress=!0,this.apiService.logout().then((function(){t.escapeToBrowse()}),(function(e){M.pushError(t,"There was an error during the sign out process.",e)})).finally((function(){return t.logoutInProgress=!1}))}},{key:"user",get:function(){return this.$store.state.user}}]),a}(h["d"]);Object(d["a"])([Object(h["e"])("user",{immediate:!0})],bi.prototype,"onUserChanged",null),bi=Object(d["a"])([Object(h["a"])({components:{MainHeader:Be,SubHeader:xe,FormInput:Ea,AppButton:La,ActionBar:rn,ActionBarButton:Xa,Users:ni,Invitations:li}})],bi);var fi=bi,di=fi,hi=(a("18c9"),Object(L["a"])(di,Kn,Wn,!1,null,"80ddf112",null)),vi=hi.exports,pi=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"stats"},[e("action-bar",[e("action-bar-button",{attrs:{text:"Go back to settings",icon:"fas fa-arrow-left"},on:{click:t.goToSettings}})],1),e("main-header",{attrs:{text:"Statistics"}}),t.stats?t._e():e("spinner",{staticClass:"spinner"}),t.stats?e("div",[e("sub-header",{attrs:{text:"Tracks"}}),e("store-stats",{attrs:{stats:t.stats.tracks}}),e("sub-header",{attrs:{text:"Thumbnails"}}),e("store-stats",{attrs:{stats:t.stats.thumbnails}})],1):t._e()],1)},mi=[],yi=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"store-stats"},[e("div",[e("div",{staticClass:"label"},[t._v(" Number of items ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.stats.allItems)+" ")])]),e("div",[e("div",{staticClass:"label"},[t._v(" Conversion progress ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.conversionProgress)+" ")])]),e("div",[e("div",{staticClass:"label"},[t._v(" Original size ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.originalSize)+" ")])]),e("div",[e("div",{staticClass:"label"},[t._v(" Converted size ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.convertedSize)+" ")])]),e("div",[e("div",{staticClass:"label"},[t._v(" Conversion ratio ")]),e("div",{staticClass:"value"},[t._v(" "+t._s(t.conversionRatio)+" ")])])])},Oi=[],ji=a("cee5"),gi=a.n(ji),ki=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"stats",void 0),t}return Object(c["a"])(a,[{key:"conversionProgress",get:function(){if(0===this.stats.allItems)return"100%";var t=this.stats.convertedItems/this.stats.allItems;return Math.round(100*t)+"%"}},{key:"originalSize",get:function(){return this.humanize(this.stats.originalSize)}},{key:"convertedSize",get:function(){return this.humanize(this.stats.convertedSize)}},{key:"conversionRatio",get:function(){if(0===this.stats.originalSize)return"100%";var t=this.stats.convertedSize/this.stats.originalSize;return Math.round(100*t)+"%"}},{key:"humanize",value:function(t){var e={round:2,base:10};return gi()(t,e)}}]),a}(h["d"]);Object(d["a"])([Object(h["b"])()],ki.prototype,"stats",void 0),ki=Object(d["a"])([h["a"]],ki);var wi=ki,_i=wi,Ci=(a("c9c6"),Object(L["a"])(_i,yi,Oi,!1,null,"2349ffd8",null)),Pi=Ci.exports,xi=function(t){Object(l["a"])(a,t);var e=Object(b["a"])(a);function a(){var t;Object(o["a"])(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(f["a"])(Object(u["a"])(t),"stats",null),Object(f["a"])(Object(u["a"])(t),"timeoutID",void 0),Object(f["a"])(Object(u["a"])(t),"apiService",new I(Object(u["a"])(t))),t}return Object(c["a"])(a,[{key:"mounted",value:function(){this.load()}},{key:"destroyed",value:function(){window.clearTimeout(this.timeoutID)}},{key:"goToSettings",value:function(){this.$router.push({name:"settings"})}},{key:"load",value:function(){var t=this;this.apiService.stats().then((function(e){t.stats=e.data}),(function(e){M.pushError(t,"Could not retrieve the statistics.",e)})).finally((function(){t.timeoutID=window.setTimeout(t.load,1e4)}))}}]),a}(h["d"]);xi=Object(d["a"])([Object(h["a"])({components:{MainHeader:Be,SubHeader:xe,ActionBar:rn,ActionBarButton:Xa,Spinner:Gt,StoreStats:Pi}})],xi);var Si=xi,Ti=Si,$i=(a("4d04"),Object(L["a"])(Ti,pi,mi,!1,null,"413fb986",null)),Ai=$i.exports;i["a"].use(me["a"]);var Ii=new me["a"]({mode:"history",base:"/",routes:[{path:"/browse/*",name:"browse-children",component:_n},{path:"/browse",name:"browse",component:_n},{path:"/setup",name:"setup",component:In},{path:"/settings",name:"settings",component:vi},{path:"/stats",name:"stats",component:Ai},{path:"/login",name:"login",component:Qn},{path:"/register/:token",name:"register",component:Yn},{path:"*",redirect:"browse"}]}),Di=a("e37d"),Bi=a("8682");i["a"].use(Di["a"]),i["a"].use(Bi["a"],{}),i["a"].config.productionTip=!1,new i["a"]({router:Ii,store:O,render:function(t){return t(pe)}}).$mount("#app")},cf8c:function(t,e,a){"use strict";a("710e")},cfd8:function(t,e,a){"use strict";a("4038")},cfe2:function(t,e,a){"use strict";a("cbc3")},d1c6:function(t,e,a){"use strict";a("1136")},d6d9:function(t,e,a){"use strict";a("1fd9")},da10:function(t,e,a){"use strict";a("0ab0")},daf7:function(t,e,a){"use strict";a("62f4")},ec46:function(t,e,a){},eea7:function(t,e,a){},f44b:function(t,e,a){},f6fd:function(t,e,a){},fb53:function(t,e,a){},fc28:function(t,e,a){"use strict";a("acf4")},fcb3:function(t,e,a){},fcbe:function(t,e,a){"use strict";a("45cf")}});